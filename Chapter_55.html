<!DOCTYPE HTML>
<html lang="zh-TW" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title> Default å’Œç”Ÿæˆå™¨æ¨¡å¼ - Easy Rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Chapter_0.html"><strong aria-hidden="true">1.</strong>  æ›´æ–°</a></li><li class="chapter-item expanded "><a href="Chapter_1.html"><strong aria-hidden="true">2.</strong>  ä»‹ç´¹</a></li><li class="chapter-item expanded "><a href="Chapter_2.html"><strong aria-hidden="true">3.</strong>  æˆ‘æ˜¯èª°ï¼Ÿ</a></li><li class="chapter-item expanded "><a href="Chapter_3.html"><strong aria-hidden="true">4.</strong>  ç°¡å–®è‹±èªå­¸ Rust</a></li><li class="chapter-item expanded "><a href="Chapter_4.html"><strong aria-hidden="true">5.</strong>  Rust Playground</a></li><li class="chapter-item expanded "><a href="Chapter_5.html"><strong aria-hidden="true">6.</strong>  ğŸš§ å’Œ âš ï¸</a></li><li class="chapter-item expanded "><a href="Chapter_6.html"><strong aria-hidden="true">7.</strong>  è¨»è§£</a></li><li class="chapter-item expanded "><a href="Chapter_7.html"><strong aria-hidden="true">8.</strong>  å‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_8.html"><strong aria-hidden="true">9.</strong>  å‹åˆ¥æ¨å°</a></li><li class="chapter-item expanded "><a href="Chapter_9.html"><strong aria-hidden="true">10.</strong>  åˆ—å° hello, world!</a></li><li class="chapter-item expanded "><a href="Chapter_10.html"><strong aria-hidden="true">11.</strong>  é¡¯ç¤ºå’Œé™¤éŒ¯</a></li><li class="chapter-item expanded "><a href="Chapter_11.html"><strong aria-hidden="true">12.</strong>  å¯è®Šæ€§</a></li><li class="chapter-item expanded "><a href="Chapter_12.html"><strong aria-hidden="true">13.</strong>  å †ç–Šã€å †ç©å’ŒæŒ‡æ¨™</a></li><li class="chapter-item expanded "><a href="Chapter_13.html"><strong aria-hidden="true">14.</strong>  æ›´å¤šé—œæ–¼åˆ—å°</a></li><li class="chapter-item expanded "><a href="Chapter_14.html"><strong aria-hidden="true">15.</strong>  å­—ä¸²</a></li><li class="chapter-item expanded "><a href="Chapter_15.html"><strong aria-hidden="true">16.</strong>  const å’Œ static</a></li><li class="chapter-item expanded "><a href="Chapter_16.html"><strong aria-hidden="true">17.</strong>  æ›´å¤šé—œæ–¼åƒè€ƒ</a></li><li class="chapter-item expanded "><a href="Chapter_17.html"><strong aria-hidden="true">18.</strong>  å¯è®Šåƒè€ƒ</a></li><li class="chapter-item expanded "><a href="Chapter_18.html"><strong aria-hidden="true">19.</strong>  å‚³éåƒè€ƒçµ¦å‡½å¼</a></li><li class="chapter-item expanded "><a href="Chapter_19.html"><strong aria-hidden="true">20.</strong>  è¤‡è£½å‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_20.html"><strong aria-hidden="true">21.</strong>  é›†åˆå‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_21.html"><strong aria-hidden="true">22.</strong>  å‘é‡</a></li><li class="chapter-item expanded "><a href="Chapter_22.html"><strong aria-hidden="true">23.</strong>  å…ƒçµ„</a></li><li class="chapter-item expanded "><a href="Chapter_23.html"><strong aria-hidden="true">24.</strong>  æ§åˆ¶æµç¨‹</a></li><li class="chapter-item expanded "><a href="Chapter_24.html"><strong aria-hidden="true">25.</strong>  çµæ§‹é«”</a></li><li class="chapter-item expanded "><a href="Chapter_25.html"><strong aria-hidden="true">26.</strong>  åˆ—èˆ‰</a></li><li class="chapter-item expanded "><a href="Chapter_26.html"><strong aria-hidden="true">27.</strong>  è¿´åœˆ</a></li><li class="chapter-item expanded "><a href="Chapter_27.html"><strong aria-hidden="true">28.</strong>  å¯¦ä½œçµæ§‹é«”å’Œåˆ—èˆ‰</a></li><li class="chapter-item expanded "><a href="Chapter_28.html"><strong aria-hidden="true">29.</strong>  è§£æ§‹</a></li><li class="chapter-item expanded "><a href="Chapter_29.html"><strong aria-hidden="true">30.</strong>  åƒè€ƒå’Œé»é‹ç®—å­</a></li><li class="chapter-item expanded "><a href="Chapter_30.html"><strong aria-hidden="true">31.</strong>  æ³›å‹</a></li><li class="chapter-item expanded "><a href="Chapter_31.html"><strong aria-hidden="true">32.</strong>  Option å’Œ Result</a></li><li class="chapter-item expanded "><a href="Chapter_32.html"><strong aria-hidden="true">33.</strong>  å…¶ä»–é›†åˆå‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_33.html"><strong aria-hidden="true">34.</strong>  å•è™Ÿ(?)é‹ç®—å­</a></li><li class="chapter-item expanded "><a href="Chapter_34.html"><strong aria-hidden="true">35.</strong>  ç‰¹å¾µ</a></li><li class="chapter-item expanded "><a href="Chapter_35.html"><strong aria-hidden="true">36.</strong>  éˆçµæ–¹æ³•</a></li><li class="chapter-item expanded "><a href="Chapter_36.html"><strong aria-hidden="true">37.</strong>  ç–Šä»£å™¨</a></li><li class="chapter-item expanded "><a href="Chapter_37.html"><strong aria-hidden="true">38.</strong>  é–‰åŒ…</a></li><li class="chapter-item expanded "><a href="Chapter_38.html"><strong aria-hidden="true">39.</strong>  dbg! å·¨é›†å’Œ .inspect</a></li><li class="chapter-item expanded "><a href="Chapter_39.html"><strong aria-hidden="true">40.</strong>  &str çš„ç¨®é¡</a></li><li class="chapter-item expanded "><a href="Chapter_40.html"><strong aria-hidden="true">41.</strong>  ç”Ÿå‘½é€±æœŸ</a></li><li class="chapter-item expanded "><a href="Chapter_41.html"><strong aria-hidden="true">42.</strong>  å…§éƒ¨å¯è®Šæ€§</a></li><li class="chapter-item expanded "><a href="Chapter_42.html"><strong aria-hidden="true">43.</strong>  Cow</a></li><li class="chapter-item expanded "><a href="Chapter_43.html"><strong aria-hidden="true">44.</strong>  é¡å‹åˆ¥å</a></li><li class="chapter-item expanded "><a href="Chapter_44.html"><strong aria-hidden="true">45.</strong>  todo! å·¨é›†</a></li><li class="chapter-item expanded "><a href="Chapter_45.html"><strong aria-hidden="true">46.</strong>  Rc</a></li><li class="chapter-item expanded "><a href="Chapter_46.html"><strong aria-hidden="true">47.</strong>  å¤šåŸ·è¡Œç·’</a></li><li class="chapter-item expanded "><a href="Chapter_47.html"><strong aria-hidden="true">48.</strong>  å‡½å¼ä¸­çš„é–‰åŒ…</a></li><li class="chapter-item expanded "><a href="Chapter_48.html"><strong aria-hidden="true">49.</strong>  impl ç‰¹å¾µ</a></li><li class="chapter-item expanded "><a href="Chapter_49.html"><strong aria-hidden="true">50.</strong>  Arc</a></li><li class="chapter-item expanded "><a href="Chapter_50.html"><strong aria-hidden="true">51.</strong>  é€šé“</a></li><li class="chapter-item expanded "><a href="Chapter_51.html"><strong aria-hidden="true">52.</strong>  é–±è®€ Rust æ–‡ä»¶</a></li><li class="chapter-item expanded "><a href="Chapter_52.html"><strong aria-hidden="true">53.</strong>  å±¬æ€§</a></li><li class="chapter-item expanded "><a href="Chapter_53.html"><strong aria-hidden="true">54.</strong>  Box</a></li><li class="chapter-item expanded "><a href="Chapter_54.html"><strong aria-hidden="true">55.</strong>  Box åŒ…è£¹çš„ç‰¹å¾µ</a></li><li class="chapter-item expanded "><a href="Chapter_55.html" class="active"><strong aria-hidden="true">56.</strong>  Default å’Œç”Ÿæˆå™¨æ¨¡å¼</a></li><li class="chapter-item expanded "><a href="Chapter_56.html"><strong aria-hidden="true">57.</strong>  Deref å’Œ DerefMut</a></li><li class="chapter-item expanded "><a href="Chapter_57.html"><strong aria-hidden="true">58.</strong>  Crates å’Œæ¨¡çµ„</a></li><li class="chapter-item expanded "><a href="Chapter_58.html"><strong aria-hidden="true">59.</strong>  æ¸¬è©¦</a></li><li class="chapter-item expanded "><a href="Chapter_59.html"><strong aria-hidden="true">60.</strong>  å¤–éƒ¨ crates</a></li><li class="chapter-item expanded "><a href="Chapter_60.html"><strong aria-hidden="true">61.</strong>  æ¨™æº–å‡½å¼åº«ä¹‹æ—…</a></li><li class="chapter-item expanded "><a href="Chapter_61.html"><strong aria-hidden="true">62.</strong>  æ’°å¯«å·¨é›†</a></li><li class="chapter-item expanded "><a href="Chapter_62.html"><strong aria-hidden="true">63.</strong>  cargo</a></li><li class="chapter-item expanded "><a href="Chapter_63.html"><strong aria-hidden="true">64.</strong>  æ¥å—ä½¿ç”¨è€…è¼¸å…¥</a></li><li class="chapter-item expanded "><a href="Chapter_64.html"><strong aria-hidden="true">65.</strong>  ä½¿ç”¨æª”æ¡ˆ</a></li><li class="chapter-item expanded "><a href="Chapter_65.html"><strong aria-hidden="true">66.</strong>  cargo doc å‘½ä»¤</a></li><li class="chapter-item expanded "><a href="Chapter_66.html"><strong aria-hidden="true">67.</strong>  çµæŸäº†å—ï¼Ÿ</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Easy Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/dieterplex/easy_rust_cht" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/dieterplex/easy_rust_cht/edit/main/README.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="default-å’Œç”Ÿæˆå™¨æ¨¡å¼"><a class="header" href="#default-å’Œç”Ÿæˆå™¨æ¨¡å¼">Default å’Œç”Ÿæˆå™¨æ¨¡å¼</a></h2>
<p>ä½ å¯ä»¥å¯¦ä½œ <code>Default</code> ç‰¹å¾µåœ¨ä½ èªç‚ºæœ€å¸¸è¦‹çš„ <code>struct</code> æˆ– <code>enum</code> ä¸Šç”¨ä¾†è³¦å€¼ã€‚ç”Ÿæˆå™¨æ¨¡å¼å¯ä»¥å¾ˆå¥½åœ°å’Œå®ƒé…åˆï¼Œä¾†è®“ä½¿ç”¨è€…åœ¨éœ€è¦æ™‚è¼•é¬†åœ°é€²è¡Œä¿®æ”¹ã€‚é¦–å…ˆæˆ‘å€‘ä¾†çœ‹çœ‹ <code>Default</code>ã€‚å¯¦éš›ä¸Šï¼Œåœ¨ Rust å¤§å¤šæ•¸çš„é€šç”¨å‹åˆ¥å·²ç¶“æœ‰ <code>Default</code>ã€‚å®ƒå€‘ä¸¦ä¸å¦äººæ„å¤–ï¼šåƒæ˜¯ 0ã€&quot;&quot;(ç©ºå­—ä¸²)ã€<code>false</code>, ç­‰ç­‰ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let default_i8: i8 = Default::default();
    let default_str: String = Default::default();
    let default_bool: bool = Default::default();

    println!(&quot;'{}', '{}', '{}'&quot;, default_i8, default_str, default_bool);
}</code></pre></pre>
<p>å°å‡º <code>'0', '', 'false'</code>ã€‚</p>
<p>æ‰€ä»¥ <code>Default</code> å°±åƒ <code>new</code> å‡½å¼ä¸€æ¨£ï¼Œé™¤äº†ä½ ä¸éœ€è¦è¼¸å…¥ä»»ä½•æ±è¥¿ã€‚é¦–å…ˆæˆ‘å€‘å°‡è¦å»ºç«‹é‚„æ²’æœ‰å¯¦ç¾ <code>Default</code> çš„ <code>struct</code>ã€‚å®ƒæœ‰å€‹ <code>new</code> å‡½å¼æ˜¯æˆ‘å€‘ç”¨ä¾†åšå‡ºåç‚ºæ¯”åˆ© (Billy) çš„è§’è‰²ä¸¦é™„å¸¶ä¸€äº›è§’è‰²å€‹äººè³‡è¨Šã€‚</p>
<pre><pre class="playground"><code class="language-rust">struct Character {
    name: String,
    age: u8,
    height: u32,
    weight: u32,
    lifestate: LifeState,
}

enum LifeState {
    Alive,
    Dead,
    NeverAlive,
    Uncertain
}

impl Character {
    fn new(name: String, age: u8, height: u32, weight: u32, alive: bool) -&gt; Self {
        Self {
            name,
            age,
            height,
            weight,
            lifestate: if alive { LifeState::Alive } else { LifeState::Dead },
        }
    }
}

fn main() {
    let character_1 = Character::new(&quot;Billy&quot;.to_string(), 15, 170, 70, true);
}</code></pre></pre>
<p>ä½†ä¹Ÿè¨±åœ¨æˆ‘å€‘çš„ä¸–ç•Œè£¡ï¼Œæˆ‘å€‘å¸Œæœ›å¤§éƒ¨åˆ†è§’è‰²éƒ½å«æ¯”åˆ©ï¼Œå¹´é½¡ 15 æ­²ã€èº«é«˜ 170ã€é«”é‡ 70ï¼Œé‚„æ´»è‘—ã€‚æˆ‘å€‘å¯ä»¥å¯¦ä½œ <code>Default</code>ï¼Œé€™æ¨£æˆ‘å€‘å°±å¯ä»¥åªå¯« <code>Character::default()</code>ã€‚å®ƒçœ‹èµ·ä¾†åƒé€™æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct Character {
    name: String,
    age: u8,
    height: u32,
    weight: u32,
    lifestate: LifeState,
}

#[derive(Debug)]
enum LifeState {
    Alive,
    Dead,
    NeverAlive,
    Uncertain,
}

impl Character {
    fn new(name: String, age: u8, height: u32, weight: u32, alive: bool) -&gt; Self {
        Self {
            name,
            age,
            height,
            weight,
            lifestate: if alive {
                LifeState::Alive
            } else {
                LifeState::Dead
            },
        }
    }
}

impl Default for Character {
    fn default() -&gt; Self {
        Self {
            name: &quot;Billy&quot;.to_string(),
            age: 15,
            height: 170,
            weight: 70,
            lifestate: LifeState::Alive,
        }
    }
}

fn main() {
    let character_1 = Character::default();

    println!(
        &quot;The character {:?} is {:?} years old.&quot;,
        character_1.name, character_1.age
    );
}</code></pre></pre>
<p>å°å‡º <code>The character &quot;Billy&quot; is 15 years old.</code> ç°¡å–®å¤šäº†!</p>
<p>ç¾åœ¨æˆ‘å€‘ä¾†çœ‹ç”Ÿæˆå™¨æ¨¡å¼ã€‚æˆ‘å€‘æœƒæœ‰å¾ˆå¤šæ¯”åˆ©ï¼Œæ‰€ä»¥æˆ‘å€‘æœƒä¿ç•™é è¨­çš„ã€‚ä½†æ˜¯å¾ˆå¤šå…¶ä»–è§’è‰²åªæœƒæœ‰ä¸€é»é»ä¸åŒã€‚ç”Ÿæˆå™¨æ¨¡å¼è®“æˆ‘å€‘å¯ä»¥æŠŠå°æ–¹æ³•é€£çµèµ·ä¾†ï¼Œæ¯æ¬¡æ”¹è®Šä¸€å€‹å€¼ã€‚åœ¨ <code>Character</code> è£¡é€™å°±æ˜¯ä¸€å€‹é€™æ¨£çš„æ–¹æ³•ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn height(mut self, height: u32) -&gt; Self {    // ğŸš§
    self.height = height;
    self
}
<span class="boring">}</span></code></pre></pre>
<p>ä¸€å®šè¦æ³¨æ„ï¼Œå®ƒæ¥å—çš„æ˜¯ <code>mut self</code>ã€‚æˆ‘å€‘ä¹‹å‰çœ‹åˆ°éä¸€æ¬¡ï¼Œå®ƒä¸æ˜¯å¯è®Šå¼•ç”¨(<code>&amp;mut self</code>)ã€‚å®ƒå–å¾—äº† <code>Self</code> çš„æ‰€æœ‰æ¬Šï¼Œä¸¦ä¸”æœ‰äº† <code>mut</code>ï¼Œå®ƒå°‡æ˜¯å¯è®Šçš„ï¼Œå³ä½¿å®ƒå…ˆå‰ä¸æ˜¯å¯è®Šçš„ã€‚é€™æ˜¯å› ç‚º <code>.height()</code> æ“æœ‰å®Œæ•´çš„æ‰€æœ‰æ¬Šï¼Œæ²’äººèƒ½æ¥è§¸å®ƒï¼Œæ‰€ä»¥å®ƒèƒ½å®‰å…¨çš„ä½œç‚ºå¯è®Šè®Šæ•¸ä¾†ç”¨ã€‚æ¥è‘—å®ƒåªæ˜¯æ”¹è®Š <code>self.height</code>ï¼Œä¸¦å›å‚³ <code>Self</code>(ä¹Ÿå°±æ˜¯ <code>Character</code>)ã€‚</p>
<p>æ‰€ä»¥æˆ‘å€‘æœ‰ä¸‰å€‹é€™æ¨£çš„ç”Ÿæˆå™¨æ–¹æ³•ã€‚å®ƒå€‘å¹¾ä¹æ˜¯ä¸€æ¨£çš„ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn height(mut self, height: u32) -&gt; Self {     // ğŸš§
    self.height = height;
    self
}

fn weight(mut self, weight: u32) -&gt; Self {
    self.weight = weight;
    self
}

fn name(mut self, name: &amp;str) -&gt; Self {
    self.name = name.to_string();
    self
}
<span class="boring">}</span></code></pre></pre>
<p>é€™äº›æ¯ä¸€å€‹éƒ½æœƒæ”¹è®Šå…¶ä¸­ä¸€å€‹è®Šæ•¸ï¼Œä¸¦çµ¦å‡º <code>Self</code> å›å‚³ï¼šé€™å°±æ˜¯ä½ åœ¨ç”Ÿæˆå™¨æ¨¡å¼ä¸­æœƒçœ‹åˆ°çš„ã€‚æ‰€ä»¥ç¾åœ¨æˆ‘å€‘é¡ä¼¼é€™æ¨£å¯«äº›æ±è¥¿ä¾†åšå‡ºè§’è‰²ï¼š<code>let character_1 = Character::default().height(180).weight(60).name(&quot;Bobby&quot;);</code>ã€‚å¦‚æœä½ æ­£åœ¨å»ºé€ å‡½å¼åº«çµ¦åˆ¥äººä½¿ç”¨ï¼Œé€™å¯ä»¥è®“ä»–å€‘å¾ˆå®¹æ˜“ä½¿ç”¨ã€‚å°çµ‚ç«¯ä½¿ç”¨è€…ä¾†èªªå¾ˆå®¹æ˜“ï¼Œå› ç‚ºå®ƒçœ‹èµ·ä¾†å¹¾ä¹åƒæ˜¯è‡ªç„¶çš„è‹±èªï¼š&quot;çµ¦æˆ‘é è¨­çš„è§’è‰²ï¼Œä½†èº«é«˜ç‚º 180ã€é«”é‡ç‚º 60ã€åå­—æ˜¯ Bobbyã€‚&quot; åˆ°ç›®å‰ç‚ºæ­¢ï¼Œæˆ‘å€‘çš„ç¨‹å¼ç¢¼çœ‹èµ·ä¾†åƒé€™æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct Character {
    name: String,
    age: u8,
    height: u32,
    weight: u32,
    lifestate: LifeState,
}

#[derive(Debug)]
enum LifeState {
    Alive,
    Dead,
    NeverAlive,
    Uncertain,
}

impl Character {
    fn new(name: String, age: u8, height: u32, weight: u32, alive: bool) -&gt; Self {
        Self {
            name,
            age,
            height,
            weight,
            lifestate: if alive {
                LifeState::Alive
            } else {
                LifeState::Dead
            },
        }
    }

    fn height(mut self, height: u32) -&gt; Self {
        self.height = height;
        self
    }

    fn weight(mut self, weight: u32) -&gt; Self {
        self.weight = weight;
        self
    }

    fn name(mut self, name: &amp;str) -&gt; Self {
        self.name = name.to_string();
        self
    }
}

impl Default for Character {
    fn default() -&gt; Self {
        Self {
            name: &quot;Billy&quot;.to_string(),
            age: 15,
            height: 170,
            weight: 70,
            lifestate: LifeState::Alive,
        }
    }
}

fn main() {
    let character_1 = Character::default().height(180).weight(60).name(&quot;Bobby&quot;);

    println!(&quot;{:?}&quot;, character_1);
}</code></pre></pre>
<p>æœ€å¾Œä¸€å€‹è¦æ–°å¢çš„æ–¹æ³•é€šå¸¸å« <code>.build()</code>ã€‚é€™å€‹æ–¹æ³•æ˜¯æŸç¨®æœ€çµ‚æª¢æŸ¥ã€‚ç•¶ä½ çµ¦ä½¿ç”¨è€…æä¾›åƒæ˜¯ <code>.height()</code> é€™æ¨£çš„æ–¹æ³•æ™‚ï¼Œä½ å¯ä»¥ç¢ºä¿ä»–å€‘åªè¼¸å…¥ <code>u32()</code>ï¼Œä½†æ˜¯å¦‚æœä»–å€‘è¼¸å…¥èº«é«˜ç‚º 5000 æ™‚æ€éº¼è¾¦ï¼Ÿåœ¨ä½ æ­£åœ¨è£½ä½œçš„éŠæˆ²ä¸­é‚£å¯èƒ½å°±ä¸å°äº†ã€‚æˆ‘å€‘å°‡ä½¿ç”¨åç‚º <code>.build()</code> çš„æœ€å¾Œæ–¹æ³•å»å›å‚³ <code>Result</code>ã€‚åœ¨å®ƒè£¡é¢æˆ‘å€‘å°‡æª¢æŸ¥ä½¿ç”¨è€…è¼¸å…¥æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœæ­£å¸¸çš„è©±æˆ‘å€‘å°‡å›å‚³ <code>Ok(Self)</code>ã€‚</p>
<p>ä¸éé¦–å…ˆè®“æˆ‘å€‘æ›´æ”¹ <code>.new()</code> æ–¹æ³•ã€‚æˆ‘å€‘ä¸å¸Œæœ›ä½¿ç”¨è€…å†è‡ªç”±å»ºç«‹ä»»ä½•ä¸€ç¨®è§’è‰²ã€‚æ‰€ä»¥æˆ‘å€‘å°‡æŠŠ <code>impl Default</code> çš„å€¼ç§»åˆ° <code>.new()</code>ã€‚è€Œç¾åœ¨ <code>.new()</code> ä¸å†æ¥å—ä»»ä½•è¼¸å…¥ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    fn new() -&gt; Self {    // ğŸš§
        Self {
            name: &quot;Billy&quot;.to_string(),
            age: 15,
            height: 170,
            weight: 70,
            lifestate: LifeState::Alive,
        }
    }
<span class="boring">}</span></code></pre></pre>
<p>é€™æ„å‘³è‘—æˆ‘å€‘ä¸å†éœ€è¦ <code>impl Default</code> äº†ï¼Œå› ç‚º <code>.new()</code> æœ‰æ‰€æœ‰çš„é è¨­å€¼ã€‚æ‰€ä»¥æˆ‘å€‘å¯ä»¥åˆªé™¤ <code>impl Default</code>ã€‚</p>
<p>ç¾åœ¨æˆ‘å€‘çš„ç¨‹å¼ç¢¼åƒé€™æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct Character {
    name: String,
    age: u8,
    height: u32,
    weight: u32,
    lifestate: LifeState,
}

#[derive(Debug)]
enum LifeState {
    Alive,
    Dead,
    NeverAlive,
    Uncertain,
}

impl Character {
    fn new() -&gt; Self {
        Self {
            name: &quot;Billy&quot;.to_string(),
            age: 15,
            height: 170,
            weight: 70,
            lifestate: LifeState::Alive,
        }
    }

    fn height(mut self, height: u32) -&gt; Self {
        self.height = height;
        self
    }

    fn weight(mut self, weight: u32) -&gt; Self {
        self.weight = weight;
        self
    }

    fn name(mut self, name: &amp;str) -&gt; Self {
        self.name = name.to_string();
        self
    }
}

fn main() {
    let character_1 = Character::new().height(180).weight(60).name(&quot;Bobby&quot;);

    println!(&quot;{:?}&quot;, character_1);
}</code></pre></pre>
<p>å°å‡ºä¾†çš„çµæœä¸€æ¨£ï¼š<code>Character { name: &quot;Bobby&quot;, age: 15, height: 180, weight: 60, lifestate: Alive }</code>ã€‚</p>
<p>æˆ‘å€‘å¹¾ä¹å·²ç¶“æº–å‚™å¥½å¯« <code>.build()</code> æ–¹æ³•äº†ï¼Œä½†æ˜¯é‚„æœ‰å€‹å•é¡Œï¼šè¦å¦‚ä½•è®“ä½¿ç”¨è€…ä½¿ç”¨å®ƒï¼Ÿç¾åœ¨ä½¿ç”¨è€…å¯ä»¥å¯« <code>let x = Character::new().height(76767);</code>ï¼Œç„¶å¾Œå¾—åˆ° <code>Character</code>ã€‚æœ‰å¾ˆå¤šæ–¹å¼å¯ä»¥åšåˆ°é€™ä¸€é»ï¼Œä¹Ÿè¨±ä½ èƒ½æƒ³å‡ºè‡ªå·±çš„æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘å€‘æœƒåœ¨ <code>Character</code> ä¸­åŠ ä¸Š <code>can_use: bool</code> çš„å€¼ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug)]       // ğŸš§
struct Character {
    name: String,
    age: u8,
    height: u32,
    weight: u32,
    lifestate: LifeState,
    can_use: bool, // è¨­å®šä½¿ç”¨è€…æ˜¯å¦èƒ½ä½¿ç”¨è§’è‰²
}

// Cut other code

    fn new() -&gt; Self {
        Self {
            name: &quot;Billy&quot;.to_string(),
            age: 15,
            height: 170,
            weight: 70,
            lifestate: LifeState::Alive,
            can_use: true, // .new() æ°¸é çµ¦å‡ºå¥½çš„è§’è‰², æ‰€ä»¥æ˜¯ true
        }
    }
<span class="boring">}</span></code></pre></pre>
<p>è€Œå°æ–¼å…¶ä»–çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>.height()</code>ï¼Œæˆ‘å€‘æœƒå°‡ <code>can_use</code> è¨­å®šç‚º <code>false</code>ã€‚åªæœ‰ <code>.build()</code> æœƒå†æ¬¡è¨­å®šç‚º <code>true</code>ï¼Œæ‰€ä»¥ç¾åœ¨ä½¿ç”¨è€…è¦ç”¨ <code>.build()</code> åšæœ€å¾Œçš„æª¢æŸ¥ã€‚æˆ‘å€‘è¦ç¢ºä¿ <code>height</code> ä¸é«˜æ–¼ 200ï¼Œ<code>weight</code> ä¸å¯¬æ–¼ 300ã€‚å¦å¤–ï¼Œåœ¨æˆ‘å€‘çš„éŠæˆ²ä¸­ï¼Œæœ‰å€‹ä¸å¥½çš„å­—å« <code>smurf</code>ï¼Œæˆ‘å€‘ä¸å¸Œæœ›ä»»ä½•è§’è‰²ä½¿ç”¨å®ƒã€‚</p>
<p>æˆ‘å€‘çš„ <code>.build()</code> æ–¹æ³•åƒé€™æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn build(mut self) -&gt; Result&lt;Character, String&gt; {      // ğŸš§
    if self.height &lt; 200 &amp;&amp; self.weight &lt; 300 &amp;&amp; !self.name.to_lowercase().contains(&quot;smurf&quot;) {
        self.can_use = true;
        Ok(self)
    } else {
        Err(&quot;Could not create character. Characters must have:
1) Height below 200
2) Weight below 300
3) A name that is not Smurf (that is a bad word)&quot;
            .to_string())
    }
}
<span class="boring">}</span></code></pre></pre>
<p><code>!self.name.to_lowercase().contains(&quot;smurf&quot;)</code> ç¢ºä¿ä½¿ç”¨è€…ä¸æœƒå¯«å‡ºé¡ä¼¼ &quot;SMURF&quot; æˆ– &quot;IamSmurf&quot; çš„å­—æ¨£ã€‚å®ƒè®“æ•´å€‹ <code>String</code> éƒ½è®Šæˆå°å¯«å­—æ¯ï¼Œä¸¦æª¢æŸ¥ <code>.contains()</code> è€Œä¸æ˜¯ <code>==</code>ã€‚è€Œå‰é¢çš„ <code>!</code> è¡¨ç¤º&quot;ä¸æ˜¯&quot;(é‚è¼¯é‹ç®—è£œæ•¸)ã€‚</p>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘å€‘å°±æŠŠ <code>can_use</code> è¨­å®šç‚º <code>true</code>ï¼Œç„¶å¾ŒæŠŠè§’è‰²åŒ…åœ¨ <code>Ok</code> è£¡é¢å›å‚³çµ¦ä½¿ç”¨è€…ã€‚</p>
<p>ç¾åœ¨æˆ‘å€‘çš„ç¨‹å¼ç¢¼å·²ç¶“å®Œæˆäº†ï¼Œæˆ‘å€‘å°‡å»ºç«‹ä¸‰å€‹ä¸èƒ½ä½¿ç”¨çš„è§’è‰²ï¼ŒåŠä¸€å€‹èƒ½ä½¿ç”¨çš„è§’è‰²ã€‚æœ€å¾Œçš„ç¨‹å¼ç¢¼åƒé€™æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct Character {
    name: String,
    age: u8,
    height: u32,
    weight: u32,
    lifestate: LifeState,
    can_use: bool, // é€™è£¡æ˜¯æ–°çš„å€¼
}

#[derive(Debug)]
enum LifeState {
    Alive,
    Dead,
    NeverAlive,
    Uncertain,
}

impl Character {
    fn new() -&gt; Self {
        Self {
            name: &quot;Billy&quot;.to_string(),
            age: 15,
            height: 170,
            weight: 70,
            lifestate: LifeState::Alive,
            can_use: true,  // .new() åšå‡ºå¯ç”¨çš„è§’è‰², æ‰€ä»¥æ˜¯ true
        }
    }

    fn height(mut self, height: u32) -&gt; Self {
        self.height = height;
        self.can_use = false; // ç¾åœ¨ä½¿ç”¨è€…é‚„ä¸èƒ½ä½¿ç”¨è§’è‰²
        self
    }

    fn weight(mut self, weight: u32) -&gt; Self {
        self.weight = weight;
        self.can_use = false;
        self
    }

    fn name(mut self, name: &amp;str) -&gt; Self {
        self.name = name.to_string();
        self.can_use = false;
        self
    }

    fn build(mut self) -&gt; Result&lt;Character, String&gt; {
        if self.height &lt; 200 &amp;&amp; self.weight &lt; 300 &amp;&amp; !self.name.to_lowercase().contains(&quot;smurf&quot;) {
            self.can_use = true;   // ä¸€åˆ‡éƒ½æ²’å•é¡Œ, æ‰€ä»¥è¨­å®šç‚º true
            Ok(self)               // ä¸¦å›å‚³è§’è‰²
        } else {
            Err(&quot;Could not create character. Characters must have:
1) Height below 200
2) Weight below 300
3) A name that is not Smurf (that is a bad word)&quot;
                .to_string())
        }
    }
}

fn main() {
    let character_with_smurf = Character::new().name(&quot;Lol I am Smurf!!&quot;).build(); // é€™ä¸€å€‹åŒ…å« &quot;smurf&quot; - ä¸è¡Œ
    let character_too_tall = Character::new().height(400).build(); // å¤ªé«˜ - ä¸è¡Œ
    let character_too_heavy = Character::new().weight(500).build(); // å¤ªé‡ - ä¸è¡Œ
    let okay_character = Character::new()
        .name(&quot;Billybrobby&quot;)
        .height(180)
        .weight(100)
        .build();   // é€™å€‹è§’è‰²æ²’å•é¡Œ. åå­—å¾ˆå¥½ã€èº«é«˜é«”é‡ä¹Ÿéƒ½å¾ˆå¥½

    // ç¾åœ¨å®ƒå€‘é‚„ä¸æ˜¯ Character, å®ƒå€‘æ˜¯ Result&lt;Character, String&gt;. æ‰€ä»¥è®“æˆ‘å€‘æŠŠå®ƒå€‘æ”¾é€² Vec è£¡ï¼Œé‚£æ¨£æˆ‘å€‘å°±èƒ½ä¸€èµ·è™•ç†å®ƒå€‘ï¼š
    let character_vec = vec![character_with_smurf, character_too_tall, character_too_heavy, okay_character];

    for character in character_vec { // ç¾åœ¨æˆ‘å€‘æœƒå°å‡ºè§’è‰²å¦‚æœæ˜¯ Ok, ä»¥åŠå°å‡ºéŒ¯èª¤å¦‚æœæ˜¯ Err
        match character {
            Ok(character_info) =&gt; println!(&quot;{:?}&quot;, character_info),
            Err(err_info) =&gt; println!(&quot;{}&quot;, err_info),
        }
        println!(); // å†å¤šåŠ ä¸Šä¸€å€‹æ›è¡Œ
    }
}</code></pre></pre>
<p>å°‡æœƒå°å‡ºï¼š</p>
<pre><code class="language-text">Could not create character. Characters must have:
1) Height below 200
2) Weight below 300
3) A name that is not Smurf (that is a bad word)

Could not create character. Characters must have:
1) Height below 200
2) Weight below 300
3) A name that is not Smurf (that is a bad word)

Could not create character. Characters must have:
1) Height below 200
2) Weight below 300
3) A name that is not Smurf (that is a bad word)

Character { name: &quot;Billybrobby&quot;, age: 15, height: 180, weight: 100, lifestate: Alive, can_use: true }
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Chapter_54.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="Chapter_56.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Chapter_54.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="Chapter_56.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>

<!DOCTYPE HTML>
<html lang="zh-TW" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title> é–‰åŒ… - Easy Rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Chapter_0.html"><strong aria-hidden="true">1.</strong>  æ›´æ–°</a></li><li class="chapter-item expanded "><a href="Chapter_1.html"><strong aria-hidden="true">2.</strong>  ä»‹ç´¹</a></li><li class="chapter-item expanded "><a href="Chapter_2.html"><strong aria-hidden="true">3.</strong>  æˆ‘æ˜¯èª°ï¼Ÿ</a></li><li class="chapter-item expanded "><a href="Chapter_3.html"><strong aria-hidden="true">4.</strong>  ç°¡å–®è‹±èªå­¸ Rust</a></li><li class="chapter-item expanded "><a href="Chapter_4.html"><strong aria-hidden="true">5.</strong>  Rust Playground</a></li><li class="chapter-item expanded "><a href="Chapter_5.html"><strong aria-hidden="true">6.</strong>  ğŸš§ å’Œ âš ï¸</a></li><li class="chapter-item expanded "><a href="Chapter_6.html"><strong aria-hidden="true">7.</strong>  è¨»è§£</a></li><li class="chapter-item expanded "><a href="Chapter_7.html"><strong aria-hidden="true">8.</strong>  å‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_8.html"><strong aria-hidden="true">9.</strong>  å‹åˆ¥æ¨å°</a></li><li class="chapter-item expanded "><a href="Chapter_9.html"><strong aria-hidden="true">10.</strong>  åˆ—å° hello, world!</a></li><li class="chapter-item expanded "><a href="Chapter_10.html"><strong aria-hidden="true">11.</strong>  é¡¯ç¤ºå’Œé™¤éŒ¯</a></li><li class="chapter-item expanded "><a href="Chapter_11.html"><strong aria-hidden="true">12.</strong>  å¯è®Šæ€§</a></li><li class="chapter-item expanded "><a href="Chapter_12.html"><strong aria-hidden="true">13.</strong>  å †ç–Šã€å †ç©å’ŒæŒ‡æ¨™</a></li><li class="chapter-item expanded "><a href="Chapter_13.html"><strong aria-hidden="true">14.</strong>  æ›´å¤šé—œæ–¼åˆ—å°</a></li><li class="chapter-item expanded "><a href="Chapter_14.html"><strong aria-hidden="true">15.</strong>  å­—ä¸²</a></li><li class="chapter-item expanded "><a href="Chapter_15.html"><strong aria-hidden="true">16.</strong>  const å’Œ static</a></li><li class="chapter-item expanded "><a href="Chapter_16.html"><strong aria-hidden="true">17.</strong>  æ›´å¤šé—œæ–¼åƒè€ƒ</a></li><li class="chapter-item expanded "><a href="Chapter_17.html"><strong aria-hidden="true">18.</strong>  å¯è®Šåƒè€ƒ</a></li><li class="chapter-item expanded "><a href="Chapter_18.html"><strong aria-hidden="true">19.</strong>  å‚³éåƒè€ƒçµ¦å‡½å¼</a></li><li class="chapter-item expanded "><a href="Chapter_19.html"><strong aria-hidden="true">20.</strong>  è¤‡è£½å‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_20.html"><strong aria-hidden="true">21.</strong>  é›†åˆå‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_21.html"><strong aria-hidden="true">22.</strong>  å‘é‡</a></li><li class="chapter-item expanded "><a href="Chapter_22.html"><strong aria-hidden="true">23.</strong>  å…ƒçµ„</a></li><li class="chapter-item expanded "><a href="Chapter_23.html"><strong aria-hidden="true">24.</strong>  æ§åˆ¶æµç¨‹</a></li><li class="chapter-item expanded "><a href="Chapter_24.html"><strong aria-hidden="true">25.</strong>  çµæ§‹é«”</a></li><li class="chapter-item expanded "><a href="Chapter_25.html"><strong aria-hidden="true">26.</strong>  åˆ—èˆ‰</a></li><li class="chapter-item expanded "><a href="Chapter_26.html"><strong aria-hidden="true">27.</strong>  è¿´åœˆ</a></li><li class="chapter-item expanded "><a href="Chapter_27.html"><strong aria-hidden="true">28.</strong>  å¯¦ä½œçµæ§‹é«”å’Œåˆ—èˆ‰</a></li><li class="chapter-item expanded "><a href="Chapter_28.html"><strong aria-hidden="true">29.</strong>  è§£æ§‹</a></li><li class="chapter-item expanded "><a href="Chapter_29.html"><strong aria-hidden="true">30.</strong>  åƒè€ƒå’Œé»é‹ç®—å­</a></li><li class="chapter-item expanded "><a href="Chapter_30.html"><strong aria-hidden="true">31.</strong>  æ³›å‹</a></li><li class="chapter-item expanded "><a href="Chapter_31.html"><strong aria-hidden="true">32.</strong>  Option å’Œ Result</a></li><li class="chapter-item expanded "><a href="Chapter_32.html"><strong aria-hidden="true">33.</strong>  å…¶ä»–é›†åˆå‹åˆ¥</a></li><li class="chapter-item expanded "><a href="Chapter_33.html"><strong aria-hidden="true">34.</strong>  å•è™Ÿ(?)é‹ç®—å­</a></li><li class="chapter-item expanded "><a href="Chapter_34.html"><strong aria-hidden="true">35.</strong>  ç‰¹å¾µ</a></li><li class="chapter-item expanded "><a href="Chapter_35.html"><strong aria-hidden="true">36.</strong>  éˆçµæ–¹æ³•</a></li><li class="chapter-item expanded "><a href="Chapter_36.html"><strong aria-hidden="true">37.</strong>  ç–Šä»£å™¨</a></li><li class="chapter-item expanded "><a href="Chapter_37.html" class="active"><strong aria-hidden="true">38.</strong>  é–‰åŒ…</a></li><li class="chapter-item expanded "><a href="Chapter_38.html"><strong aria-hidden="true">39.</strong>  dbg! å·¨é›†å’Œ .inspect</a></li><li class="chapter-item expanded "><a href="Chapter_39.html"><strong aria-hidden="true">40.</strong>  &str çš„ç¨®é¡</a></li><li class="chapter-item expanded "><a href="Chapter_40.html"><strong aria-hidden="true">41.</strong>  ç”Ÿå‘½é€±æœŸ</a></li><li class="chapter-item expanded "><a href="Chapter_41.html"><strong aria-hidden="true">42.</strong>  å…§éƒ¨å¯è®Šæ€§</a></li><li class="chapter-item expanded "><a href="Chapter_42.html"><strong aria-hidden="true">43.</strong>  Cow</a></li><li class="chapter-item expanded "><a href="Chapter_43.html"><strong aria-hidden="true">44.</strong>  é¡å‹åˆ¥å</a></li><li class="chapter-item expanded "><a href="Chapter_44.html"><strong aria-hidden="true">45.</strong>  todo! å·¨é›†</a></li><li class="chapter-item expanded "><a href="Chapter_45.html"><strong aria-hidden="true">46.</strong>  Rc</a></li><li class="chapter-item expanded "><a href="Chapter_46.html"><strong aria-hidden="true">47.</strong>  å¤šåŸ·è¡Œç·’</a></li><li class="chapter-item expanded "><a href="Chapter_47.html"><strong aria-hidden="true">48.</strong>  å‡½å¼ä¸­çš„é–‰åŒ…</a></li><li class="chapter-item expanded "><a href="Chapter_48.html"><strong aria-hidden="true">49.</strong>  impl ç‰¹å¾µ</a></li><li class="chapter-item expanded "><a href="Chapter_49.html"><strong aria-hidden="true">50.</strong>  Arc</a></li><li class="chapter-item expanded "><a href="Chapter_50.html"><strong aria-hidden="true">51.</strong>  é€šé“</a></li><li class="chapter-item expanded "><a href="Chapter_51.html"><strong aria-hidden="true">52.</strong>  é–±è®€ Rust æ–‡ä»¶</a></li><li class="chapter-item expanded "><a href="Chapter_52.html"><strong aria-hidden="true">53.</strong>  å±¬æ€§</a></li><li class="chapter-item expanded "><a href="Chapter_53.html"><strong aria-hidden="true">54.</strong>  Box</a></li><li class="chapter-item expanded "><a href="Chapter_54.html"><strong aria-hidden="true">55.</strong>  Box åŒ…è£¹çš„ç‰¹å¾µ</a></li><li class="chapter-item expanded "><a href="Chapter_55.html"><strong aria-hidden="true">56.</strong>  Default å’Œç”Ÿæˆå™¨æ¨¡å¼</a></li><li class="chapter-item expanded "><a href="Chapter_56.html"><strong aria-hidden="true">57.</strong>  Deref å’Œ DerefMut</a></li><li class="chapter-item expanded "><a href="Chapter_57.html"><strong aria-hidden="true">58.</strong>  Crates å’Œæ¨¡çµ„</a></li><li class="chapter-item expanded "><a href="Chapter_58.html"><strong aria-hidden="true">59.</strong>  æ¸¬è©¦</a></li><li class="chapter-item expanded "><a href="Chapter_59.html"><strong aria-hidden="true">60.</strong>  å¤–éƒ¨ crates</a></li><li class="chapter-item expanded "><a href="Chapter_60.html"><strong aria-hidden="true">61.</strong>  æ¨™æº–å‡½å¼åº«ä¹‹æ—…</a></li><li class="chapter-item expanded "><a href="Chapter_61.html"><strong aria-hidden="true">62.</strong>  æ’°å¯«å·¨é›†</a></li><li class="chapter-item expanded "><a href="Chapter_62.html"><strong aria-hidden="true">63.</strong>  cargo</a></li><li class="chapter-item expanded "><a href="Chapter_63.html"><strong aria-hidden="true">64.</strong>  æ¥å—ä½¿ç”¨è€…è¼¸å…¥</a></li><li class="chapter-item expanded "><a href="Chapter_64.html"><strong aria-hidden="true">65.</strong>  ä½¿ç”¨æª”æ¡ˆ</a></li><li class="chapter-item expanded "><a href="Chapter_65.html"><strong aria-hidden="true">66.</strong>  cargo doc å‘½ä»¤</a></li><li class="chapter-item expanded "><a href="Chapter_66.html"><strong aria-hidden="true">67.</strong>  çµæŸäº†å—ï¼Ÿ</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Easy Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/dieterplex/easy_rust_cht" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/dieterplex/easy_rust_cht/edit/main/README.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="é–‰åŒ…"><a class="header" href="#é–‰åŒ…">é–‰åŒ…</a></h2>
<p>é–‰åŒ…(Closure)å°±åƒä¸éœ€è¦åå­—çš„å¿«é€Ÿå‡½å¼ã€‚æœ‰æ™‚å®ƒå€‘è¢«ç¨±ç‚º lambdaã€‚é–‰åŒ…å¾ˆå®¹æ˜“è¾¨è­˜ï¼Œå› ç‚ºå®ƒå€‘ä½¿ç”¨ <code>||</code> è€Œä¸æ˜¯ <code>()</code>ã€‚å®ƒå€‘åœ¨ Rust ä¸­éå¸¸å¸¸è¦‹ï¼Œä¸€æ—¦ä½ å­¸æœƒäº†ä½¿ç”¨å®ƒå€‘ï¼Œä½ å°±æœƒæ„›ä¸é‡‹æ‰‹ã€‚</p>
<p>ä½ å¯ä»¥å°‡é–‰åŒ…é€£çµåˆ°è®Šæ•¸ä¸Šï¼Œè€Œç•¶ä½ ä½¿ç”¨å®ƒæ™‚ï¼Œå®ƒçœ‹èµ·ä¾†å°±åƒä¸€å€‹å‡½å¼ä¸€æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let my_closure = || println!(&quot;This is a closure&quot;);
    my_closure();
}</code></pre></pre>
<p>æ‰€ä»¥é€™å€‹é–‰åŒ…æ²’æœ‰æ¥å—æ±è¥¿ï¼š<code>||</code>ï¼Œä¸¦å°å‡ºè¨Šæ¯ã€‚<code>This is a closure</code>ã€‚</p>
<p>åœ¨ <code>||</code> ä¹‹é–“æˆ‘å€‘å¯ä»¥åŠ ä¸Šè¦è¼¸å…¥çš„è®Šæ•¸å’Œå‹åˆ¥ï¼Œå°±åƒåœ¨å‡½å¼çš„ <code>()</code> è£¡é¢ä¸€æ¨£çš„ç”¨æ³•ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let my_closure = |x: i32| println!(&quot;{}&quot;, x);

    my_closure(5);
    my_closure(5+5);
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">5
10
</code></pre>
<p>ç•¶é–‰åŒ…è®Šå¾—æ›´åŠ å¾©é›œæ™‚ï¼Œä½ å¯ä»¥åŠ ä¸Šç¨‹å¼ç¢¼å€å¡Šã€‚é‚£ä½ å°±å¯ä»¥è¦å¯«å¤šé•·å°±å¤šé•·ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let my_closure = || {
        let number = 7;
        let other_number = 10;
        println!(&quot;The two numbers are {} and {}.&quot;, number, other_number);
          // é€™å€‹é–‰åŒ…ä½ æƒ³è¦å¯«å¤šé•·å°±èƒ½æœ‰å¤šé•·, å°±åƒå‡½å¼.
    };

    my_closure();
}</code></pre></pre>
<p>ä½†æ˜¯é–‰åŒ…çš„ç‰¹æ®Šåœ¨æ–¼å®ƒå¯ä»¥æ¥å—é–‰åŒ…ä¹‹å¤–çš„è®Šæ•¸ï¼Œå³ä½¿ä½ åªæœ‰å¯« <code>||</code>ã€‚æ‰€ä»¥ä½ å¯ä»¥é€™æ¨£åšï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number_one = 6;
    let number_two = 10;

    let my_closure = || println!(&quot;{}&quot;, number_one + number_two);
    my_closure();
}</code></pre></pre>
<p>å°±æœƒå°å‡º <code>16</code>ã€‚ä½ ä¸éœ€è¦åœ¨ <code>||</code> ä¸­æ”¾å…¥ä»»ä½•æ±è¥¿ï¼Œå› ç‚ºå®ƒå¯ä»¥ç›´æ¥æ‹¿åˆ° <code>number_one</code> å’Œ <code>number_two</code> ä¸¦æŠŠå®ƒå€‘åŠ èµ·ä¾†ã€‚</p>
<p>é †å¸¶ä¸€æï¼Œé€™å°±æ˜¯ <strong>é–‰åŒ…(closure)</strong> é€™å€‹åå­—çš„ç”±ä¾†ï¼Œå› ç‚ºå®ƒå€‘æœƒå–å¾—è®Šæ•¸ä¸¦å°‡å®ƒå€‘&quot;å°å…¥(enclose)&quot;åœ¨è£¡é¢ã€‚å¦‚æœä½ æƒ³è¦å¾ˆæ­£ç¢ºçš„èªªæ³•ï¼š</p>
<ul>
<li><code>||</code> å¦‚æœä¸æŠŠè®Šæ•¸å¾å¤–é¢å°é€²ä¾†å°±æ˜¯&quot;åŒ¿åå‡½å¼(anonymous function)&quot;ã€‚åŒ¿åçš„æ„æ€æ˜¯&quot;æ²’æœ‰åå­—&quot;ã€‚å®ƒç”¨èµ·ä¾†æ›´åƒå€‹æ­£è¦å‡½å¼ã€‚</li>
<li><code>||</code> æœ‰å¾å¤–éƒ¨å°å…¥è®Šæ•¸çš„æ‰æ˜¯&quot;é–‰åŒ…&quot;ã€‚å®ƒæŠŠå®ƒå‘¨åœçš„è®Šæ•¸&quot;å°èµ·ä¾†&quot;ä½¿ç”¨ã€‚</li>
</ul>
<p>ä½†æ˜¯äººå€‘ç¶“å¸¸æœƒæŠŠæ‰€æœ‰çš„ <code>||</code> å‡½å¼éƒ½å«åšé–‰åŒ…ï¼Œæ‰€ä»¥ä½ ä¸ç”¨æ“”å¿ƒåå­—çš„å•é¡Œã€‚æˆ‘å€‘åªæœƒå°å¸¶æœ‰ <code>||</code> çš„ä»»ä½•æ±è¥¿å«&quot;é–‰åŒ…&quot;ï¼Œä½†è«‹è¨˜ä½ï¼Œå®ƒå¯èƒ½æ„å‘³è‘—ä¸€å€‹&quot;åŒ¿åå‡½å¼&quot;ã€‚</p>
<p>ç‚ºä»€éº¼çŸ¥é“å…©è€…çš„å€åˆ¥æœ‰ç›Šå‘¢ï¼Ÿå› ç‚ºåŒ¿åå‡½å¼å…¶å¯¦å’Œå…·åå‡½å¼ç”¢ç”Ÿä¸€æ¨£çš„æ©Ÿå™¨ç¢¼(machine code)ã€‚å®ƒå€‘çµ¦äººçš„æ„Ÿè¦ºæ˜¯&quot;é«˜å±¤æŠ½è±¡&quot;ï¼Œæ‰€ä»¥æœ‰æ™‚å€™å¤§å®¶æœƒè¦ºå¾—æ©Ÿå™¨ç¢¼æœƒå¾ˆè¤‡é›œã€‚ä½†æ˜¯ Rust ç”¨å®ƒç”¢ç”Ÿçš„æ©Ÿå™¨ç¢¼å…¶å¯¦å’Œæ­£è¦å‡½å¼ä¸€æ¨£å¿«ã€‚</p>
<p>æ‰€ä»¥è®“æˆ‘å€‘å†ä¾†çœ‹çœ‹æ›´å¤šä¸€äº›é–‰åŒ…èƒ½åšçš„äº‹ã€‚ä½ ä¹Ÿå¯ä»¥é€™æ¨£åšï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number_one = 6;
    let number_two = 10;

    let my_closure = |x: i32| println!(&quot;{}&quot;, number_one + number_two + x);
    my_closure(5);
}</code></pre></pre>
<p>é€™å€‹é–‰åŒ…å–ç”¨ <code>number_one</code> å’Œ <code>number_two</code>ã€‚æˆ‘å€‘é‚„çµ¦äº†å®ƒæ–°çš„è®Šæ•¸ <code>x</code>ï¼Œä¸¦ä¸”ç…§ç¯„ä¾‹ä¾†èªª <code>x</code> æ˜¯ 5ã€‚ç„¶å¾Œå®ƒæŠŠé€™ä¸‰å€‹éƒ½åŠ åœ¨ä¸€èµ·å°å‡º <code>21</code>ã€‚</p>
<p>é€šå¸¸åœ¨ Rust ä¸­ï¼Œä½ æœƒåœ¨æ–¹æ³•çš„å¼•æ•¸è£¡é¢çœ‹åˆ°é–‰åŒ…ï¼Œæ˜¯å› ç‚ºç”¨é–‰åŒ…ä½œç‚ºå¼•æ•¸æ˜¯éå¸¸æ–¹ä¾¿çš„äº‹ã€‚æˆ‘å€‘åœ¨ä¸Šå€‹ç« ç¯€ä¸­æœ‰ <code>.map()</code> å’Œ <code>.for_each()</code> çš„åœ°æ–¹çœ‹åˆ°äº†é–‰åŒ…ã€‚åœ¨é‚£å€‹ç« ç¯€ä¸­ï¼Œæˆ‘å€‘å¯«äº† <code>|x|</code> ä¾†ä»£å…¥ç–Šä»£å™¨çš„ä¸‹ä¸€å€‹å…ƒç´ ï¼Œé‚£å°±æ˜¯ä¸€å€‹é–‰åŒ…ã€‚</p>
<p>é€™è£¡æ˜¯å¦ä¸€å€‹ç¯„ä¾‹ï¼šå¦‚æœ <code>unwrap</code> ä¸èµ·ä½œç”¨ï¼Œå¯ä»¥ç”¨æˆ‘å€‘å·²çŸ¥çš„ <code>unwrap_or</code> æ–¹æ³•çµ¦å‡ºä¸€å€‹å€¼æ›¿ä»£ã€‚ä¹‹å‰æˆ‘å€‘å¯«çš„æ˜¯ï¼š<code>let fourth = my_vec.get(3).unwrap_or(&amp;0);</code>ã€‚ä½†é‚„æœ‰å€‹å¼•æ•¸æ˜¯ç”¨é–‰åŒ…çš„ <code>unwrap_or_else</code> æ–¹æ³•ã€‚æ‰€ä»¥ä½ å¯ä»¥é€™æ¨£åšï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let my_vec = vec![8, 9, 10];

    let fourth = my_vec.get(3).unwrap_or_else(|| { // è©¦è‘— unwrap. å¦‚æœå®ƒä¸èƒ½ç”¨,
        if my_vec.get(0).is_some() {               // å°±çœ‹ my_vec æ˜¯å¦æœ‰æ±è¥¿åœ¨ç´¢å¼• [0]
            &amp;my_vec[0]                             // å¦‚æœæœ‰æ±è¥¿å°±å›å‚³åœ¨ç´¢å¼• [0] çš„æ•¸å€¼
        } else {
            &amp;0 // ä¸ç„¶å°±çµ¦ &amp;0
        }
    });

    println!(&quot;{}&quot;, fourth);
}</code></pre></pre>
<p>ç•¶ç„¶ï¼Œé–‰åŒ…ä¹Ÿå¯ä»¥å¾ˆç°¡å–®ã€‚ä¾‹å¦‚ä½ å¯ä»¥åªå¯« <code>let fourth = my_vec.get(3).unwrap_or_else(|| &amp;0);</code>ã€‚ä½ ä¸å¿…åªå› ç‚ºæœ‰é–‰åŒ…ï¼Œå°±ç¸½æ˜¯éœ€è¦ç”¨ <code>{}</code> ä¸¦å¯«å‡ºè¤‡é›œçš„ç¨‹å¼ç¢¼ã€‚åªè¦ä½ æŠŠ <code>||</code> æ”¾é€²å»ï¼Œç·¨è­¯å™¨å°±çŸ¥é“ä½ æ”¾äº†ä½ éœ€è¦çš„é–‰åŒ…ã€‚</p>
<p>æœ€å¸¸ç”¨çš„é–‰åŒ…æ–¹æ³•å¯èƒ½æ˜¯ <code>.map()</code>ã€‚è®“æˆ‘å€‘å†ä¾†çœ‹çœ‹å®ƒã€‚ä¸‹é¢æ˜¯ä¸€ç¨®ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let num_vec = vec![2, 4, 6];

    let double_vec = num_vec        // æ‹¿ num_vec
        .iter()                     // ç–Šä»£å®ƒ
        .map(|number| number * 2)   // å°æ¯å€‹å…ƒç´ ä¹˜ä»¥äºŒ
        .collect::&lt;Vec&lt;i32&gt;&gt;();     // ç„¶å¾Œå¾çµæœåšæ–°çš„ Vec
    println!(&quot;{:?}&quot;, double_vec);
}</code></pre></pre>
<p>å¦ä¸€å€‹å¥½ä¾‹å­æ˜¯åœ¨ <code>.enumerate()</code> ä¹‹å¾Œä½¿ç”¨ <code>.for_each()</code>ã€‚<code>.enumerate()</code> æ–¹æ³•çµ¦çš„æ˜¯å¸¶æœ‰ç´¢å¼•è™Ÿç¢¼å’Œå…ƒç´ çš„ç–Šä»£å™¨ã€‚ä¾‹å¦‚ï¼š<code>[10, 9, 8]</code> è®Šæˆ <code>(0, 10), (1, 9), (2, 8)</code>ã€‚é€™è£¡æ¯å€‹å…ƒç´ çš„å‹åˆ¥æ˜¯ <code>(usize, i32)</code>ã€‚æ‰€ä»¥ä½ å¯ä»¥é€™æ¨£åšï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let num_vec = vec![10, 9, 8];

    num_vec
        .iter()      // ç–Šä»£ num_vec
        .enumerate() // å¾—åˆ° (index, number)
        .for_each(|(index, number)| println!(&quot;Index number {} has number {}&quot;, index, number)); // å°æ¯ä¸€å€‹åšäº›äº‹
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">Index number 0 has number 10
Index number 1 has number 9
Index number 2 has number 8
</code></pre>
<p>åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘ç”¨ <code>for_each</code> ä»£æ›¿ <code>map</code>ã€‚<code>map</code> æ˜¯ç”¨æ–¼å°æ¯å€‹å…ƒç´ <strong>åšä¸€äº›äº‹æƒ…</strong>ï¼Œä¸¦å°‡å…¶å‚³éå‡ºå»ï¼Œè€Œ <code>for_each</code> æ˜¯<strong>ç•¶ä½ çœ‹åˆ°æ¯å€‹å…ƒç´ æ™‚åšä¸€äº›äº‹æƒ…</strong>ã€‚å¦å¤–ï¼Œ<code>map</code> ä¸æœƒåšä»»ä½•äº‹æƒ…ï¼Œé™¤éä½ ä½¿ç”¨åƒ <code>collect</code> é€™æ¨£çš„æ–¹æ³•ã€‚</p>
<p>å…¶å¯¦ï¼Œé€™å°±æ˜¯ç–Šä»£å™¨æœ‰è¶£çš„åœ°æ–¹ã€‚å¦‚æœä½ è©¦è‘—ç”¨ <code>map</code> ä¹‹å¾Œå»æ²’ç”¨åƒ <code>collect</code> é€™æ¨£çš„æ–¹æ³•ï¼Œç·¨è­¯å™¨æœƒå‘Šè¨´ä½ å®ƒä¸æœƒåšä»»ä½•äº‹ã€‚å®ƒä¸æœƒææ…Œï¼Œä½†ç·¨è­¯å™¨åªæœƒå‘Šè¨´ä½ ä»€éº¼äº‹éƒ½æ²’åšã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let num_vec = vec![10, 9, 8];

    num_vec
        .iter()
        .enumerate()
        .map(|(index, number)| println!(&quot;Index number {} has number {}&quot;, index, number));

}</code></pre></pre>
<p>å®ƒèªªï¼š</p>
<pre><code class="language-text">warning: unused `std::iter::Map` that must be used
 --&gt; src\main.rs:4:5
  |
4 | /     num_vec
5 | |         .iter()
6 | |         .enumerate()
7 | |         .map(|(index, number)| println!(&quot;Index number {} has number {}&quot;, index, number));
  | |_________________________________________________________________________________________^
  |
  = note: `#[warn(unused_must_use)]` on by default
  = note: iterators are lazy and do nothing unless consumed
</code></pre>
<p>é€™æ˜¯å€‹<strong>è­¦å‘Š</strong>ï¼Œæ‰€ä»¥ä¸æ˜¯éŒ¯èª¤ï¼šç¨‹å¼æœ‰æ­£å¸¸åŸ·è¡Œã€‚ä½†æ˜¯ç‚ºä»€éº¼ <code>num_vec</code> æ²’åšä»»ä½•äº‹å‘¢ï¼Ÿæˆ‘å€‘å¯ä»¥çœ‹çœ‹å‹åˆ¥å°±çŸ¥é“äº†ã€‚</p>
<ul>
<li><code>let num_vec = vec![10, 9, 8];</code> ç¾åœ¨æ˜¯å€‹ <code>Vec&lt;i32&gt;</code>ã€‚</li>
<li><code>.iter()</code> ç¾åœ¨æ˜¯å€‹ <code>Iter&lt;i32&gt;</code>ã€‚æ‰€ä»¥å®ƒæ˜¯å€‹å…ƒç´ ç‚º <code>i32</code> çš„ç–Šä»£å™¨ã€‚</li>
<li><code>.enumerate()</code> ç¾åœ¨æ˜¯å€‹ <code>Enumerate&lt;Iter&lt;i32&gt;&gt;</code>ã€‚æ‰€ä»¥å®ƒæ˜¯ <code>i32</code> çš„ <code>Iter</code> å‹åˆ¥çš„ <code>Enumerate</code> å‹åˆ¥ã€‚</li>
<li><code>.map()</code> ç¾åœ¨æ˜¯å€‹ <code>Map&lt;Enumerate&lt;Iter&lt;i32&gt;&gt;&gt;</code> çš„å‹åˆ¥ã€‚æ‰€ä»¥å®ƒæ˜¯ <code>i32</code> çš„ <code>Iter</code> å‹åˆ¥çš„ <code>Enumerate</code> å‹åˆ¥çš„ <code>Map</code> å‹åˆ¥ã€‚</li>
</ul>
<p>æˆ‘å€‘æ‰€åšçš„åªæ˜¯å€‹è¶Šä¾†è¶Šè¤‡é›œçš„çµæ§‹é«”ã€‚æ‰€ä»¥é€™å€‹ <code>Map&lt;Enumerate&lt;Iter&lt;i32&gt;&gt;&gt;</code> çµæ§‹é«”åªæ˜¯æº–å‚™å¥½ï¼Œä½†åªæœ‰åœ¨æˆ‘å€‘å‘Šè¨´å®ƒè¦åšä»€éº¼äº‹æ™‚æ‰æœƒè™•ç†å¥½èƒ½ç”¨ã€‚Rust é€™æ¨£åšæ˜¯å› ç‚ºå®ƒéœ€è¦ä¿è­‰è¶³å¤ å¿«ã€‚å®ƒä¸æƒ³é€™æ¨£åšï¼š</p>
<ul>
<li>è¿­ä»£å‘é‡ä¸­æ‰€æœ‰çš„ <code>i32</code></li>
<li>ç„¶å¾Œåˆ—èˆ‰å‡ºç–Šä»£å™¨ä¸­æ‰€æœ‰çš„ <code>i32</code></li>
<li>ç„¶å¾Œå°æ˜ æ‰€æœ‰åˆ—èˆ‰å‡ºçš„ <code>i32</code></li>
</ul>
<p>Rust åªæƒ³åšä¸€æ¬¡è¨ˆç®—ï¼Œæ‰€ä»¥å®ƒå»ºç«‹çµæ§‹é«”ä¸¦ç­‰å¾…ã€‚ä¹‹å¾Œå¦‚æœæˆ‘å€‘è¬›äº† <code>.collect::&lt;Vec&lt;i32&gt;&gt;()</code>ï¼Œå®ƒå°±æœƒçŸ¥é“è©²æ€éº¼åšï¼Œä¸¦é–‹å§‹å‹•ä½œã€‚é€™å°±æ˜¯ <code>iterators are lazy and do nothing unless consumed</code> çš„æ„æ€ã€‚ç–Šä»£å™¨åœ¨ä½ &quot;æ¶ˆè€—(consume)&quot;å®ƒå€‘(ç”¨å®Œå®ƒå€‘)ä¹‹å‰ä¸æœƒåšä»»ä½•äº‹æƒ…ã€‚</p>
<p>ä½ ç”šè‡³å¯ä»¥ç”¨ <code>.collect()</code> å»ºç«‹åƒ <code>HashMap</code> é€™æ¨£è¤‡é›œçš„æ±è¥¿ï¼Œæ‰€ä»¥å®ƒéå¸¸å¼·å¤§ã€‚é€™è£¡æ˜¯å¦‚ä½•å°‡å…©å€‹å‘é‡æ”¾é€² <code>HashMap</code> çš„ç¯„ä¾‹ã€‚é¦–å…ˆæˆ‘å€‘åšå…©å€‹å‘é‡å‡ºä¾†ï¼Œç„¶å¾Œæˆ‘å€‘æœƒå°å®ƒå€‘ä½¿ç”¨ <code>.into_iter()</code> ä¾†å¾—åˆ°å€¼çš„ç–Šä»£å™¨ã€‚æ¥è‘—æˆ‘å€‘ä½¿ç”¨ <code>.zip()</code> æ–¹æ³•ã€‚é€™å€‹æ–¹æ³•å°‡å…©å€‹ç–Šä»£å™¨å°±åƒæ‹‰éŠä¸€æ¨£ä¼´éš¨(attach)åœ¨ä¸€èµ·ï¼Œã€‚æœ€å¾Œæˆ‘å€‘ä½¿ç”¨ <code>.collect()</code> ä¾†åšå‡º <code>HashMap</code>ã€‚</p>
<p>é€™è£¡æ˜¯ç¨‹å¼ç¢¼ï¼š</p>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashMap;

fn main() {
    let some_numbers = vec![0, 1, 2, 3, 4, 5]; // æ˜¯ Vec&lt;i32&gt;
    let some_words = vec![&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;]; // æ˜¯ Vec&lt;&amp;str&gt;

    let number_word_hashmap = some_numbers
        .into_iter()                 // ç¾åœ¨æ˜¯ç–Šä»£å™¨
        .zip(some_words.into_iter()) // .zip() è£¡é¢æˆ‘å€‘æ”¾å…¥å¦ä¸€å€‹ç–Šä»£å™¨. ç¾åœ¨å®ƒå€‘åœ¨ä¸€èµ·äº†.
        .collect::&lt;HashMap&lt;_, _&gt;&gt;();

    println!(&quot;For key {} we get {}.&quot;, 2, number_word_hashmap.get(&amp;2).unwrap());
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">For key 2 we get two.
</code></pre>
<p>ä½ å¯ä»¥çœ‹åˆ°æˆ‘å€‘å¯«å¾—æ˜¯ <code>&lt;HashMap&lt;_, _&gt;&gt;</code>ï¼Œå› ç‚ºé‚£æœ‰è¶³å¤ è³‡è¨Šè®“ Rust åˆ¤æ–·å‡ºå‹åˆ¥æ˜¯ <code>HashMap&lt;i32, &amp;str&gt;</code>ã€‚å¦‚æœä½ æƒ³è¦å¯«æˆ <code>.collect::&lt;HashMap&lt;i32, &amp;str&gt;&gt;();</code> ä¹Ÿè¡Œï¼Œæˆ–è€…ä½ åå¥½åƒé€™æ¨£å¯«ä¹Ÿå¯ä»¥ï¼š</p>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashMap;

fn main() {
    let some_numbers = vec![0, 1, 2, 3, 4, 5]; // æ˜¯ Vec&lt;i32&gt;
    let some_words = vec![&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;]; // æ˜¯ Vec&lt;&amp;str&gt;
    let number_word_hashmap: HashMap&lt;_, _&gt; = some_numbers  // å› ç‚ºæˆ‘å€‘åœ¨é€™è£¡å‘Šè¨´å®ƒå‹åˆ¥...
        .into_iter()
        .zip(some_words.into_iter())
        .collect(); // æˆ‘å€‘å°±ä¸ç”¨åœ¨é€™è£¡å‘Šè¨´å®ƒ
}</code></pre></pre>
<p>é‚„æœ‰ä¸€ç¨®æ–¹æ³•ï¼Œå°±åƒ <code>char</code> çš„ <code>.enumerate()</code>ï¼š<code>char_indices()</code>(Indicesçš„æ„æ€æ˜¯&quot;ç´¢å¼•&quot;)ã€‚ä½ ç”¨å®ƒçš„æ–¹å¼æ˜¯ä¸€æ¨£çš„ã€‚è®“æˆ‘å€‘å‡è£æœ‰å€‹ç”±è¨±å¤š3ä½æ•¸çš„æ•¸å­—çµ„æˆçš„å¤§å­—ä¸²ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let numbers_together = &quot;140399923481800622623218009598281&quot;;

    for (index, number) in numbers_together.char_indices() {
        match (index % 3, number) {
            (0..=1, number) =&gt; print!(&quot;{}&quot;, number), // åœ¨ç‰¹å®šé¤˜æ•¸æ™‚åªå°å‡ºæ•¸å­—
            _ =&gt; print!(&quot;{}\t&quot;, number), // ä¸ç„¶å°±å°å‡ºå¸¶æœ‰å®šä½ç©ºç™½çš„æ•¸å­—
        }
    }
}</code></pre></pre>
<p>å°å‡º <code>140     399     923     481     800     622     623     218     009     598    281</code>ã€‚</p>
<h3 id="é–‰åŒ…è£¡çš„-_"><a class="header" href="#é–‰åŒ…è£¡çš„-_">é–‰åŒ…è£¡çš„ |_|</a></h3>
<p>æœ‰æ™‚ä½ æœƒåœ¨é–‰åŒ…è£¡é¢çœ‹åˆ° <code>|_|</code>ã€‚é€™æ„å‘³è‘—é€™å€‹é–‰åŒ…éœ€è¦ä¸€å€‹å¼•æ•¸(æ¯”å¦‚ <code>x</code>)ï¼Œä½†ä½ ä¸æƒ³ä½¿ç”¨å®ƒã€‚æ‰€ä»¥ <code>|_|</code> æ„å‘³è‘— &quot;å¥½å§ï¼Œé€™å€‹é–‰åŒ…æ¥å—ä¸€å€‹å¼•æ•¸ï¼Œä½†æˆ‘ä¸æœƒçµ¦å®ƒåå­—æ˜¯å› ç‚ºæˆ‘ä¸åœ¨ä¹å®ƒ&quot;ã€‚</p>
<p>é€™è£¡çš„ç¯„ä¾‹æ˜¯ç•¶ä½ ä¸é€™æ¨£åšæ™‚æœƒæœ‰çš„éŒ¯èª¤ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let my_vec = vec![8, 9, 10];

    println!(&quot;{:?}&quot;, my_vec.iter().for_each(|| println!(&quot;We didn't use the variables at all&quot;))); // âš ï¸
}</code></pre></pre>
<p>Rust è¬›èªª</p>
<pre><code class="language-text">error[E0593]: closure is expected to take 1 argument, but it takes 0 arguments
  --&gt; src\main.rs:28:36
   |
28 |     println!(&quot;{:?}&quot;, my_vec.iter().for_each(|| println!(&quot;We didn't use the variables at all&quot;)));
   |                                    ^^^^^^^^ -- takes 0 arguments
   |                                    |
   |                                    expected closure that takes 1 argument
</code></pre>
<p>ç·¨è­¯å™¨å…¶å¯¦æœƒçµ¦ä½ ä¸€äº›å¹«åŠ©ï¼š</p>
<pre><code class="language-text">help: consider changing the closure to take and ignore the expected argument
   |
28 |     println!(&quot;{:?}&quot;, my_vec.iter().for_each(|_| println!(&quot;We didn't use the variables at all&quot;)));
</code></pre>
<p>é€™æ˜¯å¾ˆå¥½çš„å»ºè­°ã€‚å¦‚æœä½ æŠŠ <code>||</code> æ”¹æˆ <code>|_|</code> å°±å¯ä»¥é‹ä½œäº†ã€‚</p>
<h3 id="é–‰åŒ…å’Œç–Šä»£å™¨çš„æœ‰ç”¨æ–¹æ³•"><a class="header" href="#é–‰åŒ…å’Œç–Šä»£å™¨çš„æœ‰ç”¨æ–¹æ³•">é–‰åŒ…å’Œç–Šä»£å™¨çš„æœ‰ç”¨æ–¹æ³•</a></h3>
<p>ä¸€æ—¦é–‰åŒ…è®“ä½ æ„Ÿåˆ°è‡ªåœ¨æ™‚ï¼ŒRust å°±æœƒæˆç‚ºä¸€ç¨®éå¸¸æœ‰è¶£çš„èªè¨€ã€‚æœ‰äº†é–‰åŒ…ï¼Œä½ å¯ä»¥å°‡æ–¹æ³•äº’ç›¸ <em>é€£çµ</em> èµ·ä¾†ï¼Œç”¨å¾ˆå°‘çš„ç¨‹å¼ç¢¼åšå¾ˆå¤šäº‹æƒ…ã€‚ä¸‹é¢æ˜¯ä¸€äº›æˆ‘å€‘é‚„æ²’æœ‰è¦‹éçš„é–‰åŒ…å’Œä½¿ç”¨é–‰åŒ…çš„æ–¹æ³•ã€‚</p>
<p><code>.filter()</code>ï¼šè®“ä½ ä¿ç•™ç–Šä»£å™¨ä¸­ä½ æƒ³ä¿ç•™çš„å…ƒç´ ã€‚è®“æˆ‘å€‘éæ¿¾ä¸€å¹´ä¹‹ä¸­çš„æœˆä»½ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let months = vec![&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;];

    let filtered_months = months
        .into_iter()                         // åšå‡ºç–Šä»£å™¨
        .filter(|month| month.len() &lt; 5)     // æˆ‘å€‘ä¸æƒ³è¦æœˆä»½åçš„é•·åº¦è¶…é 5 å€‹ä½å…ƒçµ„.
                                             // æˆ‘å€‘çŸ¥é“æ¯å€‹å­—æ¯æ˜¯ä¸€å€‹ä½å…ƒçµ„, æ‰€ä»¥ç”¨ .len() æ²’å•é¡Œ
        .filter(|month| month.contains(&quot;u&quot;)) // é‚„æœ‰æˆ‘å€‘åªå–œæ­¡å­—æ¯æœ‰ u çš„æœˆä»½
        .collect::&lt;Vec&lt;&amp;str&gt;&gt;();

    println!(&quot;{:?}&quot;, filtered_months);
}</code></pre></pre>
<p>å°å‡º <code>[&quot;June&quot;, &quot;July&quot;]</code>ã€‚</p>
<p><code>.filter_map()</code>ï¼šé€™å«åš <code>filter_map()</code> æ˜¯å› ç‚ºå®ƒåšäº† <code>.filter()</code> å’Œ <code>.map()</code>ã€‚å‚³å…¥çš„é–‰åŒ…å¿…é ˆå›å‚³ <code>Option&lt;T&gt;</code>, æ¥è‘— <code>filter_map()</code> å°‡æœƒå¾æ¯ä¸€å€‹ <code>Option</code> å–å‡ºæ˜¯ <code>Some</code> çš„å€¼ã€‚æ‰€ä»¥æ¯”å¦‚èªªä½ å¥—ç”¨ <code>.filter_map()</code> åˆ° <code>vec![Some(2), None, Some(3)]</code>ï¼Œå®ƒå°±æœƒå›å‚³ <code>[2, 3]</code>ã€‚</p>
<p>æˆ‘å€‘å°‡å¯«ä¸€å€‹ç”¨åˆ° <code>Company</code> çµæ§‹é«”çš„ç¯„ä¾‹ã€‚æ¯å€‹å…¬å¸éƒ½æœ‰å€‹ <code>name</code>ï¼Œæ‰€ä»¥é€™å€‹æ¬„ä½æ˜¯ <code>String</code>ï¼Œä½†æ˜¯ CEO å¯èƒ½æœ€è¿‘å·²ç¶“è¾­è·äº†ã€‚æ‰€ä»¥ <code>ceo</code> æ¬„ä½æ˜¯ <code>Option&lt;String&gt;</code>ã€‚æˆ‘å€‘æœƒ <code>.filter_map()</code> ä¸€äº›å…¬å¸ï¼Œåªä¿ç•™ CEO çš„åå­—ã€‚</p>
<pre><pre class="playground"><code class="language-rust">struct Company {
    name: String,
    ceo: Option&lt;String&gt;,
}

impl Company {
    fn new(name: &amp;str, ceo: &amp;str) -&gt; Self {
        let ceo = match ceo {
            &quot;&quot; =&gt; None,
            ceo =&gt; Some(ceo.to_string()),
        }; // ç¢ºå®š ceo äº†, é‚£æˆ‘å€‘ç¾åœ¨å°±å›å‚³ Self
        Self {
            name: name.to_string(),
            ceo,
        }
    }

    fn get_ceo(&amp;self) -&gt; Option&lt;String&gt; {
        self.ceo.clone() // åªå›å‚³ CEO çš„å…‹éš†(çµæ§‹é«”æ²’æœ‰ Copy ç‰¹å¾µ)
    }
}

fn main() {
    let company_vec = vec![
        Company::new(&quot;Umbrella Corporation&quot;, &quot;Unknown&quot;),
        Company::new(&quot;Ovintiv&quot;, &quot;Doug Suttles&quot;),
        Company::new(&quot;The Red-Headed League&quot;, &quot;&quot;),
        Company::new(&quot;Stark Enterprises&quot;, &quot;&quot;),
    ];

    let all_the_ceos = company_vec
        .into_iter()
        .filter_map(|company| company.get_ceo()) // filter_map éœ€è¦ Option&lt;T&gt;
        .collect::&lt;Vec&lt;String&gt;&gt;();

    println!(&quot;{:?}&quot;, all_the_ceos);
}</code></pre></pre>
<p>å°å‡º <code>[&quot;Unknown&quot;, &quot;Doug Suttles&quot;]</code>ã€‚</p>
<p>æ—¢ç„¶ <code>.filter_map()</code> éœ€è¦ <code>Option</code>ï¼Œé‚£éº¼ <code>Result</code> å‘¢ï¼Ÿæ²’å•é¡Œï¼šæœ‰ä¸€å€‹å«åš <code>.ok()</code> çš„æ–¹æ³•ï¼Œå¯ä»¥æŠŠ <code>Result</code> è®Šæˆ <code>Option</code>ã€‚ä¹‹æ‰€ä»¥å« <code>.ok()</code>ï¼Œæ˜¯å› ç‚ºå®ƒèƒ½å‚³é€çš„åªæ˜¯ <code>Ok</code> çš„çµæœ(<code>Err</code> çš„è³‡è¨Šæ²’æœ‰äº†)ã€‚ä½ è¨˜å¾—<code>Option</code> å®Œæ•´å‹åˆ¥æ˜¯ <code>Option&lt;T&gt;</code>ï¼Œè€Œ <code>Result</code> æ˜¯ <code>Result&lt;T, E&gt;</code>ï¼ŒåŒæ™‚æœ‰ <code>Ok</code> å’Œ <code>Err</code> çš„è³‡è¨Šã€‚æ‰€ä»¥ç•¶ä½ ä½¿ç”¨ <code>.ok()</code> æ™‚ï¼Œä»»ä½• <code>Err</code> çš„è³‡è¨Šéƒ½æœƒä¸Ÿæ£„ï¼Œè®Šæˆ <code>None</code>ã€‚</p>
<p>ä½¿ç”¨ <code>.parse()</code> å°±æ˜¯é€™ç¨®æƒ…æ³çš„ç°¡å–®ç¯„ä¾‹ï¼Œæˆ‘å€‘å˜—è©¦è§£æä¸€äº›ä½¿ç”¨è€…è¼¸å…¥ã€‚<code>.parse()</code> åœ¨é€™è£¡æ¥å— <code>&amp;str</code>ï¼Œä¸¦è©¦è‘—æŠŠå®ƒè®Šæˆ <code>f32</code>ã€‚å®ƒå›å‚³äº† <code>Result</code>ï¼Œä½†æˆ‘å€‘ç”¨çš„æ˜¯ <code>filter_map()</code>ï¼Œæ‰€ä»¥åªè¦ä¸Ÿæ‰éŒ¯èª¤å°±å¯ä»¥ã€‚ä»»ä½• <code>Err</code> éƒ½æœƒè®Šæˆ <code>None</code>ï¼Œä¸¦ä¸”è¢« <code>.filter_map()</code> éæ¿¾æ‰ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let user_input = vec![&quot;8.9&quot;, &quot;Nine point nine five&quot;, &quot;8.0&quot;, &quot;7.6&quot;, &quot;eleventy-twelve&quot;];

    let actual_numbers = user_input
        .into_iter()
        .filter_map(|input| input.parse::&lt;f32&gt;().ok())
        .collect::&lt;Vec&lt;f32&gt;&gt;();

    println!(&quot;{:?}&quot;, actual_numbers);
}</code></pre></pre>
<p>å°å‡º <code>[8.9, 8.0, 7.6]</code>ã€‚</p>
<p>èˆ‡ <code>.ok()</code> ç›¸å°çš„æ˜¯ <code>.ok_or()</code> å’Œ <code>ok_or_else()</code>ã€‚é€™æ¨£å°±æŠŠ <code>Option</code> è®Šæˆäº† <code>Result</code>ã€‚ä¹‹æ‰€ä»¥å« <code>.ok_or()</code>ï¼Œæ˜¯å› ç‚º <code>Result</code> çµ¦ä½  <code>Ok</code> <strong>æˆ–</strong> <code>Err</code>ï¼Œæ‰€ä»¥ä½ å¿…é ˆè®“å®ƒçŸ¥é“ <code>Err</code> çš„å€¼æ˜¯å¤šå°‘ã€‚é€™æ˜¯å› ç‚º <code>Option</code> ä¸­çš„ <code>None</code> æ²’æœ‰ä»»ä½•è³‡è¨Šã€‚å¦å¤–ï¼Œä½ ç¾åœ¨å¯ä»¥çœ‹åˆ°ï¼Œé€™äº›æ–¹æ³•çš„åç¨±ä¸­å¸¶æœ‰ <em>else</em> çš„éƒ¨åˆ†æ„å‘³è‘—å®ƒæ¥å—é–‰åŒ…ã€‚</p>
<p>æˆ‘å€‘å¯ä»¥æŠŠæˆ‘å€‘çš„ <code>Option</code> å¾ <code>Company</code> çµæ§‹é«”ä¸­å–å‡ºä¾†ï¼Œç„¶å¾Œç”¨é€™å€‹æ–¹å¼æŠŠå®ƒè®Šæˆ <code>Result</code>ã€‚å°æ–¼é•·æœŸçš„éŒ¯èª¤è™•ç†æ–¹å¼ï¼Œæœ€å¥½æ˜¯å»ºç«‹è‡ªå·±çš„éŒ¯èª¤å‹åˆ¥ã€‚ä½†åœ¨ç¾åœ¨æˆ‘å€‘åªçµ¦äº†å®ƒéŒ¯èª¤è¨Šæ¯ï¼Œæ‰€ä»¥å®ƒå°±è®Šæˆäº† <code>Result&lt;String, &amp;str&gt;</code>ã€‚</p>
<pre><pre class="playground"><code class="language-rust">// åœ¨ main() ä¹‹å‰çš„ä¸€åˆ‡éƒ½å®Œå…¨ä¸€æ¨£
struct Company {
    name: String,
    ceo: Option&lt;String&gt;,
}

impl Company {
    fn new(name: &amp;str, ceo: &amp;str) -&gt; Self {
        let ceo = match ceo {
            &quot;&quot; =&gt; None,
            ceo =&gt; Some(ceo.to_string()),
        };
        Self {
            name: name.to_string(),
            ceo,
        }
    }

    fn get_ceo(&amp;self) -&gt; Option&lt;String&gt; {
        self.ceo.clone()
    }
}

fn main() {
    let company_vec = vec![
        Company::new(&quot;Umbrella Corporation&quot;, &quot;Unknown&quot;),
        Company::new(&quot;Ovintiv&quot;, &quot;Doug Suttles&quot;),
        Company::new(&quot;The Red-Headed League&quot;, &quot;&quot;),
        Company::new(&quot;Stark Enterprises&quot;, &quot;&quot;),
    ];

    let mut results_vec = vec![]; // å‡è£æˆ‘å€‘ä¹Ÿéœ€è¦æ”¶é›†éŒ¯èª¤çš„çµæœ

    company_vec
        .iter()
        .for_each(|company| results_vec.push(company.get_ceo().ok_or(&quot;No CEO found&quot;)));

    for item in results_vec {
        println!(&quot;{:?}&quot;, item);
    }
}</code></pre></pre>
<p>æœ€å¤§çš„è®ŠåŒ–åœ¨é€™è¡Œï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ğŸš§
.for_each(|company| results_vec.push(company.get_ceo().ok_or(&quot;No CEO found&quot;)));
<span class="boring">}</span></code></pre></pre>
<p>å®ƒçš„æ„æ€æ˜¯ï¼š&quot;æ¯å®¶å…¬å¸éƒ½ç”¨ <code>get_ceo()</code>. å¦‚æœä½ æ‹¿å¾—åˆ°ï¼Œé‚£å°±æŠŠ <code>Ok</code> è£¡é¢çš„æ•¸å€¼å‚³çµ¦ä½ ã€‚å¦‚æœæ²’æœ‰ï¼Œå°±åœ¨ <code>Err</code> è£¡é¢å‚³é&quot;No CEO found&quot;ã€‚ç„¶å¾ŒæŠŠå®ƒæ”¾åˆ° vec è£¡ã€‚&quot;</p>
<p>æ‰€ä»¥ç•¶æˆ‘å€‘å°å‡º <code>results_vec</code> æ™‚ï¼Œæœƒå¾—åˆ°é€™æ¨£çš„çµæœï¼š</p>
<pre><code class="language-text">Ok(&quot;Unknown&quot;)
Ok(&quot;Doug Suttles&quot;)
Err(&quot;No CEO found&quot;)
Err(&quot;No CEO found&quot;)
</code></pre>
<p>æ‰€ä»¥ç¾åœ¨æˆ‘å€‘æœ‰äº†æ‰€æœ‰å››å€‹å…ƒç´ ã€‚ç¾åœ¨è®“æˆ‘å€‘ä½¿ç”¨ <code>.ok_or_else()</code>ï¼Œé€™æ¨£æˆ‘å€‘å°±èƒ½ä½¿ç”¨é–‰åŒ…ï¼Œä¸¦å¾—åˆ°æ›´å¥½çš„éŒ¯èª¤è¨Šæ¯ã€‚ç¾åœ¨æˆ‘å€‘æœ‰ç©ºé–“ä½¿ç”¨ <code>format!</code> ä¾†å»ºç«‹ <code>String</code>ï¼Œä¸¦å°‡å…¬å¸åç¨±æ”¾åœ¨å…¶ä¸­ã€‚ç„¶å¾Œæˆ‘å€‘å›å‚³é€™å€‹ <code>String</code>ã€‚</p>
<pre><pre class="playground"><code class="language-rust">// åœ¨ main() ä¹‹å‰çš„ä¸€åˆ‡éƒ½å®Œå…¨ä¸€æ¨£
struct Company {
    name: String,
    ceo: Option&lt;String&gt;,
}

impl Company {
    fn new(name: &amp;str, ceo: &amp;str) -&gt; Self {
        let ceo = match ceo {
            &quot;&quot; =&gt; None,
            name =&gt; Some(name.to_string()),
        };
        Self {
            name: name.to_string(),
            ceo,
        }
    }

    fn get_ceo(&amp;self) -&gt; Option&lt;String&gt; {
        self.ceo.clone()
    }
}

fn main() {
    let company_vec = vec![
        Company::new(&quot;Umbrella Corporation&quot;, &quot;Unknown&quot;),
        Company::new(&quot;Ovintiv&quot;, &quot;Doug Suttles&quot;),
        Company::new(&quot;The Red-Headed League&quot;, &quot;&quot;),
        Company::new(&quot;Stark Enterprises&quot;, &quot;&quot;),
    ];

    let mut results_vec = vec![];

    company_vec.iter().for_each(|company| {
        results_vec.push(company.get_ceo().ok_or_else(|| {
            let err_message = format!(&quot;No CEO found for {}&quot;, company.name);
            err_message
        }))
    });

    for item in results_vec {
        println!(&quot;{:?}&quot;, item);
    }
}</code></pre></pre>
<p>é€™æ¨£æˆ‘å€‘å°±æœ‰äº†ï¼š</p>
<pre><code class="language-text">Ok(&quot;Unknown&quot;)
Ok(&quot;Doug Suttles&quot;)
Err(&quot;No CEO found for The Red-Headed League&quot;)
Err(&quot;No CEO found for Stark Enterprises&quot;)
</code></pre>
<p><code>.and_then()</code> æ˜¯å€‹å¾ˆæœ‰ç”¨çš„æ–¹æ³•ï¼Œå®ƒæ¥å— <code>Option</code>ï¼Œç„¶å¾Œè®“ä½ å°å®ƒçš„å€¼åšä¸€äº›äº‹æƒ…ï¼Œä¸¦æŠŠå®ƒå‚³éå‡ºå»ã€‚æ‰€ä»¥å®ƒçš„è¼¸å…¥æ˜¯å€‹ <code>Option</code>ï¼Œè¼¸å‡ºä¹Ÿæ˜¯å€‹ <code>Option</code>ã€‚é€™æœ‰é»åƒä¸€å€‹å®‰å…¨çš„&quot;è§£åŒ…(unwrap)ï¼Œç„¶å¾Œåšä¸€äº›äº‹æƒ…ï¼Œç„¶å¾Œå†åŒ…èµ·ä¾†&quot;ã€‚</p>
<p>ä¸€å€‹ç°¡å–®çš„ä¾‹å­æ˜¯ï¼Œæˆ‘å€‘ä½¿ç”¨ <code>.get()</code> å¾å‘é‡ä¸­å¾—åˆ°çš„æ•¸å­—ï¼Œå› ç‚ºå®ƒå›å‚³çš„æ˜¯ <code>Option</code>ã€‚ç¾åœ¨æˆ‘å€‘å¯ä»¥æŠŠå®ƒå‚³çµ¦ <code>and_then()</code>ï¼Œå¦‚æœå®ƒæ˜¯ <code>Some</code>ï¼Œæˆ‘å€‘é‚„å¯ä»¥å°å®ƒåšä¸€äº›æ•¸å­¸é‹ç®—ã€‚å¦‚æœæ˜¯ <code>None</code>ï¼Œé‚£éº¼ <code>None</code> å°±æœƒè¢«å‚³ééå»ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let new_vec = vec![8, 9, 0]; // åªæ˜¯æœ‰æ•¸å­—çš„å‘é‡

    let number_to_add = 5;       // å¾Œé¢ç”¨é€™å€‹ä¾†é‹ç®—
    let mut empty_vec = vec![];  // çµæœæ”¾é€²é€™è£¡


    for index in 0..5 {
        empty_vec.push(
            new_vec
               .get(index)
                .and_then(|number| Some(number + 1))
                .and_then(|number| Some(number + number_to_add))
        );
    }
    println!(&quot;{:?}&quot;, empty_vec);
}</code></pre></pre>
<p>å°å‡ºäº† <code>[Some(14), Some(15), Some(6), None, None]</code>ã€‚ä½ å¯ä»¥çœ‹åˆ° <code>None</code> ä¸¦æ²’æœ‰è¢«éæ¿¾æ‰ï¼Œåªæ˜¯å‚³ééå»äº†ã€‚</p>
<p><code>.and()</code> æœ‰é»åƒæ˜¯ <code>bool</code> çš„ <code>Option</code>ã€‚ä½ å¯ä»¥åŒ¹é…å¾ˆå¤šå€‹ <code>Option</code>ï¼Œå¦‚æœå®ƒå€‘éƒ½æ˜¯ <code>Some</code>ï¼Œé‚£éº¼å®ƒæœƒçµ¦å‡ºæœ€å¾Œä¸€å€‹ã€‚è€Œå¦‚æœå…¶ä¸­ä¸€å€‹æ˜¯ <code>None</code>ï¼Œé‚£éº¼å°±æœƒçµ¦å‡º <code>None</code>ã€‚</p>
<p>é¦–å…ˆé€™è£¡æœ‰å€‹ <code>bool</code> çš„ç¯„ä¾‹ä¾†å¹«åŠ©æƒ³åƒã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ <code>&amp;&amp;</code>(å’Œ)ï¼Œå“ªæ€•æ˜¯ä¸€å€‹ <code>false</code>ï¼Œä¹Ÿæœƒè®“ä¸€åˆ‡ <code>false</code>ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let one = true;
    let two = false;
    let three = true;
    let four = true;

    println!(&quot;{}&quot;, one &amp;&amp; three); // å°å‡º true
    println!(&quot;{}&quot;, one &amp;&amp; two &amp;&amp; three &amp;&amp; four); // å°å‡º false
}</code></pre></pre>
<p>ç¾åœ¨é€™è£¡çš„ <code>.and()</code> ä¹Ÿæ˜¯åŒæ¨£çš„æ±è¥¿ã€‚æƒ³åƒä¸€ä¸‹ï¼Œæˆ‘å€‘åšäº†äº”æ¬¡æ“ä½œï¼Œä¸¦æŠŠçµæœæ”¾åœ¨ <code>Vec&lt;Option&lt;&amp;str&gt;&gt;</code> ä¸­ã€‚å¦‚æœæˆ‘å€‘å¾—åˆ°ä¸€å€‹å€¼ï¼Œæˆ‘å€‘å°±æŠŠ <code>Some(&quot;success!&quot;)</code> æ¨åˆ°å‘é‡ä¸­ã€‚ç„¶å¾Œæˆ‘å€‘å†å¤šåšå…©æ¬¡é€™æ¨£çš„æ“ä½œã€‚ä¹‹å¾Œæˆ‘å€‘åªç”¨ <code>.and()</code> é¡¯ç¤ºæ¯æ¬¡æ˜¯å¾—åˆ° <code>Some</code> æ™‚çš„ç´¢å¼•ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let first_try = vec![Some(&quot;success!&quot;), None, Some(&quot;success!&quot;), Some(&quot;success!&quot;), None];
    let second_try = vec![None, Some(&quot;success!&quot;), Some(&quot;success!&quot;), Some(&quot;success!&quot;), Some(&quot;success!&quot;)];
    let third_try = vec![Some(&quot;success!&quot;), Some(&quot;success!&quot;), Some(&quot;success!&quot;), Some(&quot;success!&quot;), None];

    for i in 0..first_try.len() {
        println!(&quot;{:?}&quot;, first_try[i].and(second_try[i]).and(third_try[i]));
    }
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">None
None
Some(&quot;success!&quot;)
Some(&quot;success!&quot;)
None
</code></pre>
<p>ç¬¬ä¸€å€‹(ç´¢å¼• 0)<code>None</code>ï¼Œæ˜¯å› ç‚ºåœ¨ <code>second_try</code> ä¸­ç´¢å¼• 0 æœ‰ <code>None</code>ã€‚ç¬¬äºŒå€‹ <code>None</code>ï¼Œæ˜¯å› ç‚ºåœ¨ <code>first_try</code> ä¸­æœ‰ <code>None</code>ã€‚ä¸‹ä¸€å€‹æ˜¯ <code>Some(&quot;success!&quot;)</code>ï¼Œæ˜¯å› ç‚º <code>first_try</code>ã€<code>second try</code>ã€<code>third_try</code> ä¸­éƒ½æ²’æœ‰ <code>None</code>ã€‚</p>
<p><code>.any()</code> å’Œ <code>.all()</code> åœ¨ç–Šä»£å™¨ä¸­éå¸¸å®¹æ˜“ä½¿ç”¨ã€‚å®ƒå€‘æ ¹æ“šä½ çš„è¼¸å…¥å›å‚³ <code>bool</code> å€¼ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘åšäº†ä¸€å€‹éå¸¸å¤§çš„å‘é‡(å¤§ç´„ 20000 å€‹å…ƒç´ )ï¼ŒåŒ…å«äº†å¾ <code>'a'</code> åˆ° <code>'åƒ'</code> çš„æ‰€æœ‰å­—å…ƒã€‚ç„¶å¾Œæˆ‘å€‘å»ºç«‹å‡½å¼ä¾†æª¢æŸ¥æ˜¯å¦æœ‰æŸå€‹å­—å…ƒåœ¨å…¶ä¸­ã€‚</p>
<p>æ¥ä¸‹ä¾†æˆ‘å€‘åšä¸€å€‹æ¯”è¼ƒå°çš„å‘é‡ï¼Œå•å®ƒæ˜¯å¦å…¨éƒ¨éƒ½æ˜¯å­—æ¯(ç”¨ <code>.is_alphabetic()</code> æ–¹æ³•)ã€‚ç„¶å¾Œæˆ‘å€‘å•å®ƒæ˜¯å¦æ‰€æœ‰çš„å­—å…ƒéƒ½å°æ–¼éŸ“æ–‡å­— <code>'í–‰'</code>ã€‚</p>
<p>é‚„è¦æ³¨æ„çš„æ˜¯ä½ è¦å‚³ä¸€å€‹åƒè€ƒé€²å»ï¼Œå› ç‚º <code>.iter()</code> ä¹Ÿæœƒçµ¦å‡ºåƒè€ƒï¼Œä½ éœ€è¦ç”¨å‚³é€²å»çš„ <code>&amp;</code> å’Œå¦ä¸€å€‹ <code>&amp;</code> é€²è¡Œæ¯”è¼ƒã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn in_char_vec(char_vec: &amp;Vec&lt;char&gt;, check: char) {
    println!(&quot;Is {} inside? {}&quot;, check, char_vec.iter().any(|&amp;char| char == check));
}

fn main() {
    let char_vec = ('a'..'åƒ').collect::&lt;Vec&lt;char&gt;&gt;();
    in_char_vec(&amp;char_vec, 'i');
    in_char_vec(&amp;char_vec, 'ë·');
    in_char_vec(&amp;char_vec, 'é‘¿');

    let smaller_vec = ('A'..'z').collect::&lt;Vec&lt;char&gt;&gt;();
    println!(&quot;All alphabetic? {}&quot;, smaller_vec.iter().all(|&amp;x| x.is_alphabetic()));
    println!(&quot;All less than the character í–‰? {}&quot;, smaller_vec.iter().all(|&amp;x| x &lt; 'í–‰'));
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">Is i inside? true
Is ë· inside? false
Is é‘¿ inside? false
All alphabetic? false
All less than the character í–‰? true
</code></pre>
<p>é †ä¾¿èªªï¼Œ<code>.any()</code> åªæª¢æŸ¥åˆ°å®ƒç¬¬ä¸€å€‹åŒ¹é…çš„å…ƒç´ ï¼Œç„¶å¾Œå°±åœæ­¢äº†ã€‚å¦‚æœå®ƒå·²ç¶“æ‰¾åˆ°äº†åŒ¹é…çµæœï¼Œå®ƒå°±ä¸æœƒæª¢æŸ¥æ‰€æœ‰çš„å…ƒç´ ã€‚å¦‚æœä½ è¦åœ¨å‘é‡ä¸Šä½¿ç”¨ <code>.any()</code>ï¼Œæœ€å¥½æŠŠå¯èƒ½æœƒåŒ¹é…çš„å…ƒç´ æ”¾å‰é¢ã€‚æˆ–è€…ä½ å¯ä»¥åœ¨ <code>.iter()</code> ä¹‹å¾Œä½¿ç”¨ <code>.rev()</code> ä¾†åå‘ç–Šä»£ã€‚é€™æ˜¯é€™æ¨£çš„å‘é‡ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut big_vec = vec![6; 1000];
    big_vec.push(5);
}</code></pre></pre>
<p>æ‰€ä»¥é€™å€‹ <code>Vec</code> æœ‰ 1000 å€‹ <code>6</code>ï¼Œå¾Œé¢é‚„æœ‰ä¸€å€‹ <code>5</code>ã€‚è®“æˆ‘å€‘å‡è£ä¾†ç”¨ <code>.any()</code> çœ‹çœ‹å®ƒæ˜¯å¦åŒ…å« 5ã€‚é¦–å…ˆè®“æˆ‘å€‘ç¢ºå®š <code>.rev()</code> æœ‰æ•ˆã€‚è¨˜ä½ï¼Œ<code>Iterator</code> ç¸½æ˜¯æœ‰ <code>.next()</code>ï¼Œèƒ½è®“ä½ æª¢æŸ¥å®ƒæ¯æ¬¡åšäº†ä»€éº¼ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut big_vec = vec![6; 1000];
    big_vec.push(5);

    let mut iterator = big_vec.iter().rev();
    println!(&quot;{:?}&quot;, iterator.next());
    println!(&quot;{:?}&quot;, iterator.next());
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">Some(5)
Some(6)
</code></pre>
<p>æˆ‘å€‘æ˜¯å°çš„ï¼šæœ‰ä¸€å€‹ <code>Some(5)</code>ï¼Œç„¶å¾Œé–‹å§‹ 1000 å€‹ <code>Some(6)</code>ã€‚æ‰€ä»¥æˆ‘å€‘å¯ä»¥é€™æ¨£å¯«ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut big_vec = vec![6; 1000];
    big_vec.push(5);

    println!(&quot;{:?}&quot;, big_vec.iter().rev().any(|&amp;number| number == 5));
}</code></pre></pre>
<p>è€Œä¸”å› ç‚ºæ˜¯ <code>.rev()</code>ï¼Œæ‰€ä»¥å®ƒåªå‘¼å« <code>.next()</code> ä¸€æ¬¡å°±åœæ­¢ã€‚å¦‚æœæˆ‘å€‘ä¸ç”¨ <code>.rev()</code>ï¼Œé‚£éº¼å®ƒå°‡å‘¼å« <code>.next()</code> 1001æ¬¡æ‰åœæ­¢ã€‚é€™æ®µç¨‹å¼ç¢¼ç§€å‡ºé€™ä»¶äº‹ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut big_vec = vec![6; 1000];
    big_vec.push(5);

    let mut counter = 0; // é–‹å§‹è¨ˆæ•¸
    let mut big_iter = big_vec.into_iter(); // åšå‡º Iterator

    loop {
        counter +=1;
        if big_iter.next() == Some(5) { // æŒçºŒå‘¼å« .next() ç›´åˆ°æˆ‘å€‘å¾—åˆ° Some(5)
            break;
        }
    }
    println!(&quot;Final counter is: {}&quot;, counter);
}</code></pre></pre>
<p>é€™è£¡å°å‡º <code>Final counter is: 1001</code>ï¼Œæ‰€ä»¥æˆ‘å€‘çŸ¥é“å®ƒå¿…é ˆå‘¼å« <code>.next()</code> 1001 æ¬¡æ‰èƒ½æ‰¾åˆ° 5ã€‚</p>
<p><code>.find()</code> å‘Šè¨´ä½ ç–Šä»£å™¨è£¡æ˜¯å¦æœ‰æŸå€‹æ±è¥¿ï¼Œè€Œ <code>.position()</code> å‰‡å‘Šè¨´ä½ å®ƒåœ¨å“ªè£¡ã€‚<code>.find()</code> èˆ‡ <code>.any()</code> ä¸åŒæ˜¯å› ç‚ºå®ƒå›å‚³è£¡é¢æœ‰å€¼çš„ <code>Option</code>(æˆ– <code>None</code>)ã€‚èˆ‡æ­¤åŒæ™‚ï¼Œ<code>.position()</code> ä¹Ÿæ˜¯å¸¶æœ‰ä½ç½®è™Ÿç¢¼çš„ <code>Option</code>ï¼Œæˆ–è‘— <code>None</code>ã€‚æ›å¥è©±èªªï¼š</p>
<ul>
<li><code>.find()</code>: &quot;æˆ‘æœƒè©¦è‘—æ‰¾çµ¦ä½ &quot;</li>
<li><code>.position()</code>:&quot;æˆ‘æœƒè©¦è‘—æ‰¾çœ‹çœ‹åœ¨å“ªè£¡å‘Šè¨´ä½ &quot;</li>
</ul>
<p>é€™æ˜¯ç°¡å–®çš„ç¯„ä¾‹ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let num_vec = vec![10, 20, 30, 40, 50, 60, 70, 80, 90, 100];

    println!(&quot;{:?}&quot;, num_vec.iter().find(|&amp;number| number % 3 == 0)); // find æ¥å—åƒè€ƒ, æ‰€ä»¥æˆ‘å€‘çµ¦å®ƒ &amp;number
    println!(&quot;{:?}&quot;, num_vec.iter().find(|&amp;number| number * 2 == 30));

    println!(&quot;{:?}&quot;, num_vec.iter().position(|&amp;number| number % 3 == 0));
    println!(&quot;{:?}&quot;, num_vec.iter().position(|&amp;number| number * 2 == 30));

}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">Some(30) // This is the number itself
None // No number inside times 2 == 30
Some(2) // This is the position
None
</code></pre>
<p>æœ‰äº† <code>.cycle()</code> ä½ å¯ä»¥å»ºç«‹ç„¡çª®è¿´åœˆçš„ç–Šä»£å™¨ã€‚é€™ç¨®å‹åˆ¥çš„ç–Šä»£å™¨èƒ½å’Œ <code>.zip()</code> å¾ˆå¥½åœ°çµåˆåœ¨ä¸€èµ·ç”¨ä¾†å»ºç«‹æ–°æ±è¥¿ï¼Œå°±åƒå»ºç«‹ <code>Vec&lt;(i32, &amp;str)&gt;</code> çš„é€™å€‹ä¾‹å­ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let even_odd = vec![&quot;even&quot;, &quot;odd&quot;];

    let even_odd_vec = (0..6)
        .zip(even_odd.into_iter().cycle())
        .collect::&lt;Vec&lt;(i32, &amp;str)&gt;&gt;();
    println!(&quot;{:?}&quot;, even_odd_vec);
}</code></pre></pre>
<p>æ‰€ä»¥ï¼Œå³ä½¿ <code>.cycle()</code> å¯èƒ½æ°¸é ä¸æœƒçµæŸï¼Œä½†ç•¶æŠŠå®ƒå€‘ zip åœ¨ä¸€èµ·æ™‚ï¼Œå¦ä¸€å€‹ç–Šä»£å™¨åªé‹ä½œäº†å…­æ¬¡ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œ<code>.cycle()</code> æ‰€ç”¢ç”Ÿçš„ç–Šä»£å™¨ä¸æœƒå†è¢« <code>.next()</code> å‘¼å«ï¼Œæ‰€ä»¥å…­æ¬¡ä¹‹å¾Œå°±å®Œæˆäº†ã€‚è¼¸å‡ºï¼š</p>
<pre><code>[(0, &quot;even&quot;), (1, &quot;odd&quot;), (2, &quot;even&quot;), (3, &quot;odd&quot;), (4, &quot;even&quot;), (5, &quot;odd&quot;)]
</code></pre>
<p>é¡ä¼¼çš„äº‹æƒ…ä¹Ÿå¯ä»¥ç”¨æ²’æœ‰çµå°¾çš„ç¯„åœä¾†åšåˆ°ã€‚å¦‚æœä½ å¯« <code>0..</code>ï¼Œé‚£éº¼ä½ å°±å»ºç«‹å‡ºæ°¸ä¸åœæ­¢çš„ç¯„åœã€‚ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨é€™å€‹æ–¹æ³•ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let ten_chars = ('a'..).take(10).collect::&lt;Vec&lt;char&gt;&gt;();
    let skip_then_ten_chars = ('a'..).skip(1300).take(10).collect::&lt;Vec&lt;char&gt;&gt;();

    println!(&quot;{:?}&quot;, ten_chars);
    println!(&quot;{:?}&quot;, skip_then_ten_chars);
}</code></pre></pre>
<p>å…©è€…éƒ½æ˜¯å°å‡ºåå€‹å­—å…ƒï¼Œä½†ç¬¬äºŒå€‹è·³é 1300 ä½ç½®ï¼Œå°å‡ºäºç¾å°¼äºèªçš„åå€‹å­—æ¯ã€‚</p>
<pre><code>['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j']
['Õµ', 'Õ¶', 'Õ·', 'Õ¸', 'Õ¹', 'Õº', 'Õ»', 'Õ¼', 'Õ½', 'Õ¾']
</code></pre>
<p>å¦ä¸€ç¨®æµè¡Œçš„æ–¹æ³•å«åš <code>.fold()</code>ã€‚é€™å€‹æ–¹æ³•ç¶“å¸¸ç”¨æ–¼å°‡ç–Šä»£å™¨ä¸­çš„å…ƒç´ åŠ åœ¨ä¸€èµ·ï¼Œä½†ä½ ä¹Ÿå¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚å®ƒå’Œ <code>.for_each()</code> æœ‰äº›é¡ä¼¼ã€‚åœ¨ <code>.fold()</code> ä¸­ï¼Œä½ é¦–å…ˆæ–°å¢èµ·å§‹å€¼ (å¦‚æœä½ è¦æŠŠå…ƒç´ åŠ åœ¨ä¸€èµ·ï¼Œé‚£å°±æ˜¯ 0)ï¼Œå†é€—è™Ÿï¼Œç„¶å¾Œæ˜¯é–‰åŒ…ã€‚é–‰åŒ…çµ¦ä½ å…©å€‹å…ƒç´ ï¼šåˆ°ç›®å‰ç‚ºæ­¢çš„ç¸½å’Œå’Œä¸‹ä¸€å€‹å…ƒç´ ã€‚é¦–å…ˆé€™å€‹ç°¡å–®çš„ç¯„ä¾‹ç§€å‡º <code>.fold()</code> æ€éº¼å°‡å…ƒç´ åŠ åœ¨ä¸€èµ·ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let some_numbers = vec![9, 6, 9, 10, 11];

    println!(&quot;{}&quot;, some_numbers
        .iter()
        .fold(0, |total_so_far, next_number| total_so_far + next_number)
    );
}</code></pre></pre>
<p>éç¨‹æ˜¯ï¼š</p>
<ul>
<li>ç¬¬ 1 æ­¥æ˜¯å¾ 0 é–‹å§‹ï¼Œä¸¦åŠ ä¸Šä¸‹å€‹æ•¸å­—ï¼š9ã€‚</li>
<li>ç„¶å¾ŒæŠŠ 9 å†åŠ ä¸Š 6ï¼š15ã€‚</li>
<li>ç„¶å¾ŒæŠŠ 15 å†åŠ ä¸Š 9: 24ã€‚</li>
<li>ç„¶å¾ŒæŠŠ 24ï¼Œå†åŠ ä¸Š 10ï¼š34ã€‚</li>
<li>æœ€å¾ŒæŠŠ 34ï¼Œå†åŠ ä¸Š 11ï¼š45ã€‚æ‰€ä»¥å®ƒå°å‡ºäº† <code>45</code>ã€‚</li>
</ul>
<p>ä½†æ˜¯ä½ ä¸æ˜¯åªèƒ½ç”¨å®ƒä¾†åŠ ä¸Šæ±è¥¿ã€‚åœ¨é€™è£¡çš„ç¯„ä¾‹æˆ‘å€‘æŠŠæ¯ä¸€å€‹å­—å…ƒä¸ŠåŠ ä¸€å€‹ '-'ï¼Œä¾†åšå‡º <code>String</code>ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a_string = &quot;I don't have any dashes in me.&quot;;

    println!(
        &quot;{}&quot;,
        a_string
            .chars() // ç¾åœ¨æ˜¯å€‹ç–Šä»£å™¨äº†
            .fold(&quot;-&quot;.to_string(), |mut string_so_far, next_char| { // å¾å­—ä¸² &quot;-&quot; é–‹å§‹. æ¯æ¬¡æŠŠå®ƒä»£å…¥æˆç‚ºå¯è®Šçš„å­—ä¸²ä¸¦è·Ÿè‘—ä¸‹å€‹å­—å…ƒ
                string_so_far.push(next_char); // æŠŠå­—å®Œæ¨é€²å», å†ä¾†æ˜¯ '-'
                string_so_far.push('-');
                string_so_far} // åˆ¥å¿˜è¨˜å‚³åˆ°ä¸‹ä¸€å€‹è¿´åœˆ
            ));
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">-I- -d-o-n-'-t- -h-a-v-e- -a-n-y- -d-a-s-h-e-s- -i-n- -m-e-.-
</code></pre>
<p>é‚„æœ‰è¨±å¤šå…¶ä»–æ–¹ä¾¿çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>.take_while()</code> åªè¦ä¸€ç›´å¾é–‰åŒ…å¾—åˆ° <code>true</code>ï¼Œå°±æœƒå¸¶å…ƒç´ åˆ°æ–°çš„ç–Šä»£å™¨ (ä¾‹å¦‚ <code>take while x &gt; 5</code>)</li>
<li><code>.cloned()</code> æœƒå°ç–Šä»£å™¨å…§çš„å…ƒç´ åšå…‹éš†ã€‚é€™å°‡æœƒæŠŠåƒè€ƒå‚³æ›æˆå€¼ã€‚</li>
<li><code>.by_ref()</code> æœƒè®“ç–Šä»£å™¨å–å¾—åƒè€ƒã€‚é€™å¾ˆå¥½çš„ä¿è­‰ä½ åœ¨ä½¿ç”¨ <code>Vec</code> æˆ–é¡ä¼¼çš„æ±è¥¿ä¾†åšç–Šä»£å™¨å¾Œé‚„å¯ä»¥ä½¿ç”¨å®ƒã€‚</li>
<li>è¨±å¤šå…¶ä»–åç¨±ä¸­æœ‰ <code>_while</code> çš„æ–¹æ³•ï¼š<code>.skip_while()</code>ã€<code>.map_while()</code> ç­‰ç­‰ã€‚</li>
<li><code>.sum()</code>ï¼šå°±æ˜¯æŠŠæ‰€æœ‰çš„æ±è¥¿åŠ åœ¨ä¸€èµ·ã€‚</li>
</ul>
<p><code>.chunks()</code> å’Œ <code>.windows()</code> æ˜¯å°‡å‘é‡åˆ‡å‰²æˆä½ æƒ³è¦çš„å°ºå¯¸çš„å…©ç¨®æ–¹å¼ã€‚ä½ æŠŠæƒ³è¦çš„å°ºå¯¸æ”¾åœ¨æ‹¬è™Ÿè£¡ã€‚æ¯”å¦‚èªªä½ æœ‰å€‹ 10 å€‹å…ƒç´ çš„å‘é‡ï¼Œä½ æƒ³è¦ 3 å€‹çš„å°ºå¯¸ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€™æ¨£ï¼š</p>
<ul>
<li>
<p><code>.chunks()</code> æœƒçµ¦ä½  4 å€‹åˆ‡ç‰‡(slice)ï¼š <code>[0, 1, 2]</code>, ç„¶å¾Œæ˜¯ <code>[3, 4, 5]</code>, å†ä¾†æ˜¯ <code>[6, 7, 8]</code>, æœ€å¾Œæ˜¯ <code>[9]</code>ã€‚æ‰€ä»¥å®ƒæœƒå˜—è©¦ç”¨ä¸‰å€‹å…ƒç´ åšä¸€å€‹åˆ‡ç‰‡ï¼Œä½†å¦‚æœå®ƒæ²’æœ‰ä¸‰å€‹å…ƒç´ ï¼Œé‚£éº¼å®ƒä¹Ÿä¸æœƒææ…Œã€‚å®ƒåªæœƒçµ¦ä½ å‰©ä¸‹çš„æ±è¥¿ã€‚</p>
</li>
<li>
<p><code>.windows()</code> æœƒå…ˆçµ¦ä½ ä¸€å€‹ <code>[0, 1, 2]</code> çš„åˆ‡ç‰‡ã€‚ç„¶å¾Œå®ƒå°‡æœƒç§»éå»ä¸‹ä¸€å€‹å…ƒç´ ï¼Œçµ¦ä½  <code>[1, 2, 3]</code>ã€‚å®ƒæœƒä¸€ç›´é€™æ¨£åšåˆ°çµ‚æ–¼åˆ°é”æœ€å¾Œä¸‰å€‹å…ƒç´ çš„åˆ‡ç‰‡æ™‚æ‰åœæ­¢ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥è®“æˆ‘å€‘åœ¨ç°¡å–®çš„æ•¸å­—å‘é‡ä¸Šä½¿ç”¨å®ƒå€‘ã€‚çœ‹èµ·ä¾†åƒé€™æ¨£ï¼š</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let num_vec = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 0];

    for chunk in num_vec.chunks(3) {
        println!(&quot;{:?}&quot;, chunk);
    }
    println!();
    for window in num_vec.windows(3) {
        println!(&quot;{:?}&quot;, window);
    }
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">[1, 2, 3]
[4, 5, 6]
[7, 8, 9]
[0]

[1, 2, 3]
[2, 3, 4]
[3, 4, 5]
[4, 5, 6]
[5, 6, 7]
[6, 7, 8]
[7, 8, 9]
[8, 9, 0]
</code></pre>
<p>é †ä¾¿èªªä¸€ä¸‹ï¼Œå¦‚æœä½ ä»€éº¼éƒ½ä¸çµ¦å®ƒï¼Œ<code>.chunks()</code> æœƒææ…Œã€‚ä½ å¯ä»¥å¯« <code>.chunks(1000)</code> çµ¦åªæœ‰ä¸€å€‹å…ƒç´ çš„å‘é‡ï¼Œä½†ä½ ä¸èƒ½å¯« <code>.chunks()</code> çµ¦ä»»ä½•é•·åº¦ç‚º 0 çš„æ±è¥¿ã€‚ å¦‚æœä½ é»é¸äº†<a href="https://doc.rust-lang.org/stable/std/primitive.slice.html#method.chunks">æ–‡ä»¶</a>è£¡çš„ <code>[src]</code> ä½ å¯ä»¥çœ‹åˆ°å®ƒå°±åœ¨å‡½å¼åŸå§‹ç¢¼ä¹‹ä¸­ï¼Œå› ç‚ºå®ƒèªª <code>assert!(chunk_size != 0);</code>ã€‚</p>
<p><code>.match_indices()</code> è®“ä½ æŠŠ <code>String</code> æˆ– <code>&amp;str</code> è£¡é¢æ‰€æœ‰ç¬¦åˆä½ çš„è¼¸å…¥çš„æ±è¥¿éƒ½æ‹¿å‡ºä¾†ï¼Œä¸¦çµ¦ä½ ç´¢å¼•ã€‚å®ƒèˆ‡ <code>.enumerate()</code> é¡ä¼¼ï¼Œå› ç‚ºå®ƒå›å‚³åŒ…å«å…©å€‹å…ƒç´ çš„å…ƒçµ„ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let rules = &quot;Rule number 1: No fighting. Rule number 2: Go to bed at 8 pm. Rule number 3: Wake up at 6 am.&quot;;
    let rule_locations = rules.match_indices(&quot;Rule&quot;).collect::&lt;Vec&lt;(_, _)&gt;&gt;(); // é€™æ˜¯ Vec&lt;usize, &amp;str&gt; ä½†æˆ‘å€‘åªå‘Šè¨´ Rust å»æ±ºå®š
    println!(&quot;{:?}&quot;, rule_locations);
}</code></pre></pre>
<p>This prints:</p>
<pre><code class="language-text">[(0, &quot;Rule&quot;), (28, &quot;Rule&quot;), (62, &quot;Rule&quot;)]
</code></pre>
<p><code>.peekable()</code> è®“ä½ å»ºç«‹å¯ä»¥å·çœ‹åˆ° (peek at) ä¸‹ä¸€å€‹å…ƒç´ çš„ç–Šä»£å™¨ã€‚é™¤äº†ç–Šä»£å™¨ä¸æœƒç§»å‹•å¤–ï¼Œå®ƒå°±åƒå‘¼å« <code>.next()</code> (å®ƒçµ¦ä½  <code>Option</code>)ï¼Œæ‰€ä»¥ä½ å¯ä»¥éš¨æ„ä½¿ç”¨å®ƒã€‚å¯¦éš›ä¸Šä½ å¯ä»¥æŠŠ peekable æƒ³æˆæ˜¯ &quot;å¯åœæ­¢&quot;çš„ï¼Œå› ç‚ºä½ å¯ä»¥æƒ³åœå¤šä¹…å°±åœå¤šä¹…ã€‚é€™è£¡çš„ç¯„ä¾‹æ˜¯æˆ‘å€‘å°æ¯å€‹å…ƒç´ éƒ½ä½¿ç”¨ <code>.peek()</code> ä¸‰æ¬¡ã€‚æˆ‘å€‘å¯ä»¥æ°¸é ä½¿ç”¨ <code>.peek()</code>ï¼Œç›´åˆ°æˆ‘å€‘ä½¿ç”¨ <code>.next()</code> ç§»å‹•åˆ°ä¸‹ä¸€å€‹å…ƒç´ ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let just_numbers = vec![1, 5, 100];
    let mut number_iter = just_numbers.iter().peekable(); // é€™è£¡å¯¦éš›ä¸Šå»ºç«‹äº†ä¸€ç¨®å«ä½œ Peekable çš„ç–Šä»£å™¨

    for _ in 0..3 {
        println!(&quot;I love the number {}&quot;, number_iter.peek().unwrap());
        println!(&quot;I really love the number {}&quot;, number_iter.peek().unwrap());
        println!(&quot;{} is such a nice number&quot;, number_iter.peek().unwrap());
        number_iter.next();
    }
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">I love the number 1
I really love the number 1
1 is such a nice number
I love the number 5
I really love the number 5
5 is such a nice number
I love the number 100
I really love the number 100
100 is such a nice number
</code></pre>
<p>é€™æ˜¯å¦ä¸€å€‹ç¯„ä¾‹ï¼Œæˆ‘å€‘ä½¿ç”¨ <code>.peek()</code> åŒ¹é…ä¸€å€‹å…ƒç´ ã€‚ä½¿ç”¨å®Œå¾Œï¼Œæˆ‘å€‘å‘¼å« <code>.next()</code>ã€‚</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let locations = vec![
        (&quot;Nevis&quot;, 25),
        (&quot;Taber&quot;, 8428),
        (&quot;Markerville&quot;, 45),
        (&quot;Cardston&quot;, 3585),
    ];
    let mut location_iter = locations.iter().peekable();
    while location_iter.peek().is_some() {
        match location_iter.peek() {
            Some((name, number)) if *number &lt; 100 =&gt; { // .peek() çµ¦æˆ‘å€‘çš„æ˜¯åƒè€ƒæ‰€ä»¥éœ€è¦ *
                println!(&quot;Found a hamlet: {} with {} people&quot;, name, number)
            }
            Some((name, number)) =&gt; println!(&quot;Found a town: {} with {} people&quot;, name, number),
            None =&gt; break,
        }
        location_iter.next();
    }
}</code></pre></pre>
<p>å°å‡ºï¼š</p>
<pre><code class="language-text">Found a hamlet: Nevis with 25 people
Found a town: Taber with 8428 people
Found a hamlet: Markerville with 45 people
Found a town: Cardston with 3585 people
</code></pre>
<p>æœ€å¾Œï¼Œé€™å€‹ç¯„ä¾‹æˆ‘å€‘ä¹Ÿæœ‰ç”¨ <code>.match_indices()</code>ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘æ ¹æ“š <code>&amp;str</code> ä¸­çš„ç©ºæ ¼æ•¸ï¼Œå°‡åå­—æ”¾å…¥ <code>struct</code> ä¸­ã€‚</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct Names {
    one_word: Vec&lt;String&gt;,
    two_words: Vec&lt;String&gt;,
    three_words: Vec&lt;String&gt;,
}

fn main() {
    let vec_of_names = vec![
        &quot;Caesar&quot;,
        &quot;Frodo Baggins&quot;,
        &quot;Bilbo Baggins&quot;,
        &quot;Jean-Luc Picard&quot;,
        &quot;Data&quot;,
        &quot;Rand Al'Thor&quot;,
        &quot;Paul Atreides&quot;,
        &quot;Barack Hussein Obama&quot;,
        &quot;Bill Jefferson Clinton&quot;,
    ];

    let mut iter_of_names = vec_of_names.iter().peekable();

    let mut all_names = Names { // é–‹å§‹ç©ºçš„ Names çµæ§‹é«”
        one_word: vec![],
        two_words: vec![],
        three_words: vec![],
    };

    while iter_of_names.peek().is_some() {
        let next_item = iter_of_names.next().unwrap(); // æˆ‘å€‘å¯ä»¥ç”¨ .unwrap() å› ç‚ºæˆ‘å€‘çŸ¥é“å¯«å®ƒæ˜¯ Some
        match next_item.match_indices(' ').collect::&lt;Vec&lt;_&gt;&gt;().len() { // ç”¨ .match_indices å»ºç«‹å¿«é€Ÿå‘é‡ä¸¦æª¢æŸ¥é•·åº¦
            0 =&gt; all_names.one_word.push(next_item.to_string()),
            1 =&gt; all_names.two_words.push(next_item.to_string()),
            _ =&gt; all_names.three_words.push(next_item.to_string()),
        }
    }

    println!(&quot;{:?}&quot;, all_names);
}</code></pre></pre>
<p>æœƒå°å‡ºï¼š</p>
<pre><code class="language-text">Names { one_word: [&quot;Caesar&quot;, &quot;Data&quot;], two_words: [&quot;Frodo Baggins&quot;, &quot;Bilbo Baggins&quot;, &quot;Jean-Luc Picard&quot;, &quot;Rand Al\'Thor&quot;, &quot;Paul Atreides&quot;], three_words:
[&quot;Barack Hussein Obama&quot;, &quot;Bill Jefferson Clinton&quot;] }
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Chapter_36.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="Chapter_38.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Chapter_36.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="Chapter_38.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
